<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <title>Admin Intro</title>
  <link rel="shortcut icon" href="assets/img/UN_Habitat_Icon.svg" type="image/x-icon" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- External Font Awesome CSS -->
  <link href="libraries/css/fontawesome-6.5.1.min.css" rel="stylesheet" />
  <!-- External Swiper CSS -->
  <link href="libraries/css/swiper-bundle.min.css" rel="stylesheet" />
  <link href="libraries/css/material-icons.css" rel="stylesheet" />
  <link href="libraries/fonts/google-fonts/noto-naskh-arabic.css" rel="stylesheet" />

  <!-- External Swiper JS -->
  <script src="libraries/js/swiper-bundle.min.js"></script>

  <style>
    /* General Page Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Noto Naskh Arabic", sans-serif;
    }

    html,
    body {
      height: 100%;
      /* Ensure html and body take full height */
    }

    body {
      display: flex;
      flex-direction: column;
      color: #333;
      line-height: 1.6;
      font-family: "Noto Naskh Arabic", sans-serif;
      /* Default font stack */
      height: 100vh;
      /* Full viewport height */
      overflow: hidden;
      /* Prevent body scroll, main content will scroll if needed */
    }

    /* Background image with blur effect */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("assets/img/aleppo.png");
      background-size: cover;
      background-position: center;
      z-index: -1;
      /* Behind all other content */
      filter: blur(1px);
      /* Blur effect */
    }

    /* Consistent Arabic font styling - excluding icon elements */
    :lang(ar):not(i):not([class*="fa-"]),
    [lang="ar"]:not(i):not([class*="fa-"]),
    .arabic-text:not(i):not([class*="fa-"]),
    .copyright-text:not(i):not([class*="fa-"]),
    .btn:not(i):not([class*="fa-"]),
    label:not(i):not([class*="fa-"]),
    input:not(i):not([class*="fa-"]),
    .header-title div:not(i):not([class*="fa-"]) {
      font-family: "Noto Naskh Arabic", sans-serif;
      /* Prioritize Tajawal for Arabic */
    }

    /* Font consistency for LTR (English) mode, excluding icons */
    body[dir="ltr"] *:not(i):not([class*="fa-"]):not(.fa):not(.fab):not(.fas):not(.far) {
      font-family: "Noto Naskh Arabic", sans-serif;
      /* Maintain base font stack for LTR */
    }

    /* Ensure Font Awesome icons display correctly */
    .fa,
    .fas,
    .far,
    .fab,
    [class*="fa-"] {
      font-family: "Font Awesome 6 Free", "Font Awesome 6 Brands" !important;
    }

    /* Layout Structure: Header, Main Content, Footer */
    #mainHeader {
      flex-shrink: 0;
      /* Prevent header from shrinking */
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      background-color: #00b2e3;
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 4px 16px;
      height: 50px;
      /* Fixed header height */
      box-sizing: border-box;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      direction: rtl !important;
      /* Force RTL for header */
    }

    #mainContent {
      flex: 1;
      /* Allow main content to grow and fill available space */
      width: 100%;
      position: relative;
      margin-top: 50px;
      /* Space for fixed header */
      margin-bottom: 50px;
      /* Space for fixed footer */
      height: calc(100vh - 100px);
      /* Full viewport height minus header and footer */
      overflow: hidden;
      /* Swiper will handle its own overflow/scrolling */
      padding: 0;
    }

    #mainFooter {
      flex-shrink: 0;
      /* Prevent footer from shrinking */
      position: fixed;
      bottom: 0;
      width: 100%;
      z-index: 1000;
      background-color: #00b2e3;
      padding: 4px 16px;
      height: 50px;
      /* Fixed footer height */
      box-sizing: border-box;
      display: flex;
      align-items: center;
      direction: rtl !important;
      /* Force RTL for footer */
    }

    /* Header Elements */
    .header-logo {
      /* General logo style in header */
      height: 40px;
      width: 40px;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.7);
      object-fit: contain;
      /* Ensure logo fits well */
    }

    .header-logos {
      /* Container for multiple logos */
      display: flex;
      align-items: center;
      gap: 12px;
      /* Space between logos */
      padding: 5px;
      /* Padding around logos container */
    }

    .header-title {
      flex: 1;
      text-align: center;
      font-weight: bold;
      font-size: 1rem;
    }

    #mainHeader .title-ar {
      font-size: 1.1rem !important;
      margin-bottom: 2px !important;
    }

    #mainHeader .title-en {
      font-size: 0.7rem !important;
      opacity: 0.9 !important;
    }

    /* Language Dropdown/Toggle */
    .language-dropdown {
      position: relative;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .language-toggle {
      cursor: pointer;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.18);
      color: #fff;
      font-weight: bold;
      font-size: 1.1rem;
      border: 2px solid rgba(255, 255, 255, 0.7);
      outline: none;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      transition: background 0.2s, border 0.2s, box-shadow 0.2s;
    }

    .language-toggle:hover {
      background: rgba(255, 255, 255, 0.32);
      border-color: #fff;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
      color: #007bff;
      /* Example hover color */
    }

    /* Menu Dropdown */
    .menu-dropdown {
      position: relative;
      display: inline-block;
    }

    .menu-toggle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.18);
      color: #fff;
      border: 2px solid rgba(255, 255, 255, 0.7);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .menu-toggle:hover {
      background: rgba(255, 255, 255, 0.32);
      transform: scale(1.05);
    }

    .menu-dropdown-content {
      display: none;
      /* Hidden by default, shown by JS */
      position: absolute;
      top: 100%;
      /* Position below the toggle button */
      right: 0;
      /* Align to the right for RTL default */
      background-color: white;
      min-width: 160px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      z-index: 1000;
      /* Ensure it's above other content */
      margin-top: 5px;
    }

    .menu-item {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      text-decoration: none;
      color: #333;
      transition: background-color 0.3s ease;
    }

    .menu-item i {
      /* Icon styling within menu item */
      margin-left: 8px;
      /* LTR default, JS might adjust for RTL/LTR text */
      width: 20px;
      text-align: center;
    }

    .menu-item:hover {
      background-color: #f5f5f5;
    }

    /* Main Content: Swiper Carousel */
    .swiper-container {
      width: 100%;
      height: 100%;
      /* Fill the #mainContent area */
    }

    .swiper-slide {
      background-color: #1e293b;
      /* Slide background */
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.7;
      /* Applied opacity to slides */
    }

    .swiper-slide>div {
      /* Ensure content div inside slide takes full space */
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .slide-content {
      text-align: center;
      color: white;
      padding: 2rem;
      position: relative;
      /* For z-index stacking if needed over overlays */
      z-index: 2;
      /* Above potential overlays */
      max-width: 800px;
      /* Limit content width for readability */
    }

    .slide-content h2 {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: white;
      font-weight: 700;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
    }

    .slide-content p {
      font-size: 1.2rem;
      line-height: 1.6;
      opacity: 0.9;
      max-width: 1000px;
      margin: 0 auto;
      color: white;
    }

    .slide-content i {
      /* Icon styling within slide content */
      margin-left: 0.5rem;
      /* Default spacing */
      color: #3b82f6;
      /* Icon color */
    }

    /* Swiper Navigation Buttons */
    .swiper-button-next,
    .swiper-button-prev {
      color: white;
      /* Navigation arrow color */
    }

    /* Floating Buttons over Swiper */
    .floating-slider-btns {
      position: absolute;
      top: 80%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      /* Above slides */
      display: flex;
      gap: 1rem;
      justify-content: center;
      align-items: center;
    }

    /* General Button Styles */
    .btn {
      padding: 0.75rem 1.5rem;
      margin: 0.5rem;
      border-radius: 50px;
      /* Rounded buttons */
      font-size: 1rem;
      font-weight: 600;
      text-decoration: none;
      transition: background 0.3s ease, opacity 0.3s ease;
      display: inline-block;
      min-width: 150px;
      /* Minimum width for floating buttons */
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
      /* Shadow for floating buttons */
    }

    .btn:hover {
      opacity: 0.9;
      /* General hover effect */
    }

    .btn-primary {
      background-color: #5b8fe0;
      color: #fff;
    }

    .btn-primary:hover {
      background-color: #2563eb;
      /* Darker shade on hover */
    }

    .btn-secondary {
      background-color: #e5e7eb;
      color: #1f2937;
    }

    .btn-secondary:hover {
      background-color: #d1d5db;
      /* Darker shade on hover */
    }

    /* Footer Elements */
    .footer-content {
      margin: 0 auto;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 1rem;
      color: white;
      direction: rtl !important;
      /* Ensure content within footer is also RTL */
    }

    .copyright {
      /* Copyright text container */
      display: flex;
      align-items: center;
    }

    .companyHITech {
      color: white !important;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .companyHITech:hover {
      color: #f0f0f0 !important;
      text-decoration: underline;
    }

    .footer-logo {
      /* Logo in footer, e.g. company logo */
      height: 24px;
      /* Smaller logo for footer */
      margin-right: 8px;
      /* Spacing for RTL, JS might adjust for LTR */
      vertical-align: middle;
      display: inline-block !important;
      /* Ensure it displays correctly */
    }

    footer .copyright img.footer-logo {
      /* More specific selector for HTH logo if needed */
      height: 40px;
      /* As per original specific rule */
      width: 40px;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.7);
      background-color: white;
      padding: 2px;
      object-fit: contain;
      background-clip: content-box;
      vertical-align: middle;
      margin-right: 8px;
    }

    .social-icons {
      /* Container for social media icons */
      display: flex;
      align-items: center;
    }

    .social-icon {
      color: #fff;
      font-size: 1.2rem;
      margin-left: 1rem;
      /* Spacing between icons (RTL context) */
      transition: color 0.3s ease;
    }

    .social-icon:hover {
      color: #3498db;
      /* Example hover color */
    }

    /* LTR Specific Adjustments */
    body[dir="ltr"] .header-title {
      text-align: center;
      /* Already default, but explicit */
    }

    body[dir="ltr"] .header-logos.right-logos {
      /* Adjust logo positioning for LTR */
      margin-left: auto;
      /* Push to the right */
    }

    body[dir="ltr"] .menu-dropdown-content {
      /* Adjust menu dropdown for LTR */
      right: auto;
      left: 0;
    }

    body[dir="ltr"] .menu-item i {
      /* Adjust icon margin in menu for LTR */
      margin-left: 0;
      margin-right: 8px;
    }

    body[dir="ltr"] .social-icon {
      /* Adjust social icon margin for LTR */
      margin-left: 0;
      margin-right: 1rem;
    }

    body[dir="ltr"] .footer-content {
      /* Ensure footer content respects LTR */
      direction: ltr;
    }

    body[dir="ltr"] .footer-logo {
      /* Adjust footer logo margin for LTR */
      margin-right: 0;
      margin-left: 8px;
    }

    body[dir="ltr"] .copyright-text {
      /* Ensure copyright text respects LTR */
      direction: ltr;
    }

    body[dir="ltr"] .slide-content {
      /* Ensure slide content text alignment for LTR */
      text-align: center;
      /* Already default, but explicit */
    }

    body[dir="ltr"] .slide-content i {
      margin-left: 0;
      margin-right: 0.5rem;
    }

    /* Responsive Design Adjustments */
    @media (max-width: 768px) {
      .header-title-container {
        /* Example if this class was used */
        flex-direction: column;
        gap: 5px;
      }

      .account-name {
        /* Example if an account name was displayed */
        display: none;
        /* Hide on smaller screens */
      }
    }

    @media (max-width: 600px) {
      .floating-slider-btns {
        /* Stack floating buttons vertically */
        flex-direction: column;
        gap: 0.5rem;
      }

      .floating-slider-btns .btn {
        /* Adjust button size for smaller screens */
        min-width: 120px;
        font-size: 1rem;
      }
    }

    /* Modal Styles */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: white;
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      max-width: 400px;
      width: 90%;
      animation: modalFadeIn 0.3s ease;
    }

    @keyframes modalFadeIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-title {
      font-size: 1.5rem;
      color: #1e293b;
      margin-bottom: 1.5rem;
      font-weight: 600;
    }

    .modal-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 1.5rem;
    }

    .modal-btn {
      padding: 0.75rem 1.5rem;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      min-width: 120px;
    }

    .modal-btn.edit {
      background-color: #5b8fe0;
      color: white;
    }

    .modal-btn.edit:hover {
      background-color: #2563eb;
    }

    .modal-btn.view {
      background-color: #e5e7eb;
      color: #1f2937;
    }

    .modal-btn.view:hover {
      background-color: #d1d5db;
    }
  </style>
</head>

<body>
  <!-- Add Modal HTML -->
  <div class="modal-overlay" id="modeModal">
    <div class="modal-content">
      <div class="modal-title" id="modalTitle">اختر الوضع</div>
      <div class="modal-buttons">
        <button class="modal-btn edit" id="editBtn">تعديل</button>
        <button class="modal-btn view" id="viewBtn">استعراض</button>
      </div>
    </div>
  </div>

  <!-- Header Section: Fixed at the top -->
  <header id="mainHeader">
    <!-- Left side of header: Logo, Language Toggle, Menu -->
    <div style="display: flex; align-items: center; gap: 10px">
      <a href="#" title="Go to Admin Page">
        <img src="assets/img/unhabitat.jfif" alt="Logo 3" class="header-logo"
          style="cursor: pointer; margin-top: 8px" />
      </a>
      <div class="language-dropdown">
        <button class="language-toggle" id="langToggleBtn" onclick="toggleLanguage()" aria-label="Toggle Language">
          AR
        </button>
      </div>
      <div class="menu-dropdown">
        <button class="menu-toggle" id="menuToggleBtn" onclick="toggleMenu()" aria-label="Toggle Menu" style="
              background-image: url('assets/img/user1.jpg');
              background-size: cover;
              background-position: center;
            "></button>
        <div class="menu-dropdown-content" id="menuDropdown">
          <a href="#" class="menu-item" id="settingsBtn" onclick="window.location.href = './profile.html';">
            <i class="fas fa-cog"></i>
            <span id="settingsText">Settings</span>
          </a>
          <a href="#" class="menu-item" id="logoutBtn" onclick="window.location.href = './index.html';">
            <i class="fas fa-sign-out-alt"></i>
            <span id="logoutText">Logout</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Center part of header: Titles -->
    <div class="header-title text-center">
      <div class="title-ar">نظام إدارة المعلومات الحضرية _ مدينة حلب</div>
      <div class="title-en">
        Urban Information Management System - Aleppo City
      </div>
    </div>

    <!-- Right side of header: Additional Logos -->
    <div class="header-logos right-logos">
      <img src="assets/img/aleppo.jfif" alt="Aleppo City Logo" class="header-logo" />
      <img src="assets/img/japan.png" alt="Japan Flag Logo" class="header-logo" />
    </div>
  </header>

  <!-- Main Content Area: Swiper Carousel -->
  <main id="mainContent">
    <div class="swiper-container" id="mainSwiper">
      <div class="swiper-wrapper">
        <!-- Slide 1 -->
        <div class="swiper-slide">
          <div class="slide-content">
            <h2 id="slide1Title">نظام إدارة المعلومات الحضرية</h2>
            <p id="slide1Desc">
              منصة متكاملة لتحليل وتقييم الاحتياجات الأساسية في التجمعات
              العمرانية، تتيح تحليلاً شاملاً على مستويين: التجمع العمراني ككل
              والأحياء بشكل تفصيلي.
            </p>
          </div>
        </div>
        <!-- Slide 2 -->
        <div class="swiper-slide">
          <div class="slide-content">
            <h2>
              <i class="fas fa-city"></i>
              <span id="slide2Title">تحليل التجمع العمراني</span>
            </h2>
            <p id="slide2Desc">
              توثيق شامل للمعلومات العامة، تقييم الاتصال مع المحيط، جرد حضري
              للمرافق الأساسية، وتوثيق حالة الإيواء في مراكز الإيواء الجماعي.
            </p>
          </div>
        </div>
        <!-- Slide 3 -->
        <div class="swiper-slide">
          <div class="slide-content">
            <h2>
              <i class="fas fa-chart-pie"></i>
              <span id="slide3Title">تحليل الأحياء</span>
            </h2>
            <p id="slide3Desc">
              تقييم الوضع السكاني، النسيج العمراني، البنى التحتية، الخدمات
              الأساسية، والتدخلات الإنسانية والتعافي المبكر بشكل تفصيلي.
            </p>
          </div>
        </div>
      </div>
      <!-- Swiper Navigation Buttons -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>

      <!-- Floating Action Buttons over Swiper -->
      <div class="floating-slider-btns" style="text-align: center">
        <a href="sector/index.html" class="btn btn-primary" id="servicesCirclesBtn">
          Service Circles</a>
        <a href="maps/index.html" class="btn btn-primary" id="exploreMapBtn">Neighborhood Map
        </a>
        <a href="dashboard.html" class="btn btn-secondary" id="dashboardBtn" style="text-align: center">Dashboard</a>
      </div>
    </div>
  </main>

  <!-- Footer Section: Fixed at the bottom -->
  <footer id="mainFooter">
    <div class="footer-content">
      <!-- Copyright Information -->
      <div class="copyright" style="font-size: 12px">
        <span class="copyright-text" lang="ar" style="font-size: 12px">
          ©
          <script>
            document.write(new Date().getFullYear()); // Dynamically sets the current year
          </script>
          , <span lang="ar" class="arabic-text"> Powered by</span> ,
          <a rel="noopener" class="companyHITech arabic-text" href="https://hasan20nassar.github.io/HTH_Profile/"
            target="_blank" lang="ar">
            HI-Tech House</a>
        </span>
        <!-- <img
            alt="Company Logo HTH"
            src="assets/img/HTH.png"
            class="footer-logo"
          /> -->
      </div>
      <!-- Social Media Icons -->
      <div class="social-icons">
        <a aria-label="Facebook" class="social-icon facebook" href="#"><i class="fab fa-facebook-f"></i></a>
        <a aria-label="Twitter" class="social-icon twitter" href="#"><i class="fab fa-x-twitter"></i></a>
        <a aria-label="Instagram" class="social-icon instagram" href="#"><i class="fab fa-instagram"></i></a>
        <a aria-label="LinkedIn" class="social-icon linkedin" href="#"><i class="fab fa-linkedin-in"></i></a>
        <a rel="noopener" aria-label="WhatsApp" class="social-icon whatsapp" href="https://wa.me/966501234567"
          target="_blank"><i class="fab fa-whatsapp"></i></a>
      </div>
    </div>
  </footer>

  <!-- Page Interaction Scripts -->
  <script>
    // Global variable to store the Swiper instance
    let swiperInstance = null;

    // Function to initialize the Swiper carousel
    function initSwiper() {
      try {
        // Destroy the existing Swiper instance if it exists
        if (swiperInstance) {
          swiperInstance.destroy(true, true);
          swiperInstance = null;
        }

        // Initialize a new Swiper instance
        swiperInstance = new Swiper(".swiper-container", {
          loop: true, // Enables continuous loop mode
          autoplay: {
            delay: 8000, // Delay between transitions (in ms)
          },
          navigation: {
            // Navigation arrows
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          effect: "slide", // Add smooth transition effect
          fadeEffect: {
            crossFade: true,
          },
        });

        return swiperInstance;
      } catch (error) {
        console.error("Failed to initialize Swiper:", error);
        return null;
      }
    }

    // Function to toggle the main menu visibility
    function toggleMenu() {
      const menu = document.getElementById("menuDropdown");
      if (menu) {
        menu.style.display =
          menu.style.display === "block" ? "none" : "block";
      }
    }

    // Add translations for modal
    const translations = {
      ar: {
        slide1Title: "نظام إدارة المعلومات الحضرية",
        slide1Desc:
          "منصة متكاملة لتحليل وتقييم الاحتياجات الأساسية في التجمعات العمرانية، تتيح تحليلاً شاملاً على مستويين: التجمع العمراني ككل والأحياء بشكل تفصيلي.",
        slide2Title: "تحليل التجمع العمراني",
        slide2Desc:
          "توثيق شامل للمعلومات العامة، تقييم الاتصال مع المحيط، جرد حضري للمرافق الأساسية، وتوثيق حالة الإيواء في مراكز الإيواء الجماعي.",
        slide3Title: "تحليل الأحياء",
        slide3Desc:
          "تقييم الوضع السكاني، النسيج العمراني، البنى التحتية، الخدمات الأساسية، والتدخلات الإنسانية والتعافي المبكر بشكل تفصيلي.",
        exploreMapBtn: "خريطة الاحياء",
        servicesCirclesBtn: "خريطة المدينة",
        dashboardBtn: "لوحة التحكم",
        settingsText: "الإعدادات",
        logoutText: "تسجيل الخروج",
        modalTitle: "اختر الوضع",
        editBtn: "تعديل",
        viewBtn: "استعراض",
      },
      en: {
        slide1Title: "Urban Information Management System",
        slide1Desc:
          "An integrated platform for analyzing and evaluating basic needs in urban settlements, providing comprehensive analysis at two levels: the entire urban settlement and detailed neighborhoods.",
        slide2Title: "Urban Settlement Analysis",
        slide2Desc:
          "Comprehensive documentation of general information, evaluation of connectivity with surroundings, urban inventory of basic facilities, and documentation of collective shelter conditions.",
        slide3Title: "Neighborhood Analysis",
        slide3Desc:
          "Detailed assessment of population status, urban fabric, infrastructure, basic services, and humanitarian interventions and early recovery.",
        exploreMapBtn: "Neighborhood Map",
        servicesCirclesBtn: "City Map",
        dashboardBtn: "Dashboard",
        settingsText: "Settings",
        logoutText: "Logout",
        modalTitle: "Choose Mode",
        editBtn: "Edit",
        viewBtn: "View",
      },
    };

    let currentLang = "ar"; // Default language

    // Function to switch the page language
    function switchLanguage(lang) {
      // Store the language preference in localStorage
      try {
        localStorage.setItem("preferredLanguage", lang);
      } catch (error) {
        console.error("Error saving language preference:", error);
      }

      currentLang = lang;
      const t = translations[lang];

      // Set document language and direction
      document.documentElement.lang = lang;
      document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

      // Assuming IDs are now unique for the first 3 slides.
      document
        .querySelectorAll("#slide1Title, .slide1Title")
        .forEach((el) => (el.textContent = t.slide1Title));
      document
        .querySelectorAll("#slide1Desc, .slide1Desc")
        .forEach((el) => (el.textContent = t.slide1Desc));
      document
        .querySelectorAll("#slide2Title, .slide2Title")
        .forEach((el) => (el.textContent = t.slide2Title));
      document
        .querySelectorAll("#slide2Desc, .slide2Desc")
        .forEach((el) => (el.textContent = t.slide2Desc));
      document
        .querySelectorAll("#slide3Title, .slide3Title")
        .forEach((el) => (el.textContent = t.slide3Title));
      document
        .querySelectorAll("#slide3Desc, .slide3Desc")
        .forEach((el) => (el.textContent = t.slide3Desc));

      document.getElementById("exploreMapBtn").textContent = t.exploreMapBtn;
      document.getElementById("servicesCirclesBtn").textContent =
        t.servicesCirclesBtn;
      document.getElementById("dashboardBtn").textContent = t.dashboardBtn;

      document.getElementById("settingsText").textContent = t.settingsText;
      document.getElementById("logoutText").textContent = t.logoutText;

      // Update language toggle button text
      document.getElementById("langToggleBtn").textContent =
        lang === "ar" ? "AR" : "EN";

      // Update modal translations
      document.getElementById("modalTitle").textContent = t.modalTitle;
      document.getElementById("editBtn").textContent = t.editBtn;
      document.getElementById("viewBtn").textContent = t.viewBtn;

      // Re-initialize Swiper after language change to ensure layout updates
      setTimeout(() => {
        initSwiper();
      }, 300); // Longer delay for DOM updates
    }

    // Function to toggle language between AR and EN
    function toggleLanguage() {
      const newLang = currentLang === "ar" ? "en" : "ar";
      switchLanguage(newLang);
    }

    // Event listener to close the menu when clicking outside of it
    document.addEventListener("click", function (event) {
      const menu = document.getElementById("menuDropdown");
      const menuBtn = document.getElementById("menuToggleBtn");

      if (menu && menuBtn) {
        // Check if the click is outside the menu button and the menu itself
        if (!menuBtn.contains(event.target) && !menu.contains(event.target)) {
          menu.style.display = "none";
        }
      }
    });

    // Initialize Swiper and set default language when the DOM is fully loaded
    document.addEventListener("DOMContentLoaded", function () {
      // Check if there's a saved language preference in localStorage
      let savedLanguage;
      try {
        savedLanguage = localStorage.getItem("preferredLanguage");
      } catch (error) {
        console.error("Error retrieving language preference:", error);
        savedLanguage = null;
      }

      // Set initial language based on saved preference or default to Arabic
      const initialLang = savedLanguage || "ar";
      switchLanguage(initialLang);

      // Then initialize Swiper with a short delay to ensure DOM is ready
      setTimeout(() => {
        initSwiper();
      }, 200);

      // Add click handlers for the map and services buttons
      document
        .getElementById("exploreMapBtn")
        .addEventListener("click", function (e) {
          e.preventDefault();
          showModeModal("map");
        });

      document
        .getElementById("servicesCirclesBtn")
        .addEventListener("click", function (e) {
          e.preventDefault();
          showModeModal("services");
        });

      // Add click handlers for modal buttons
      document
        .getElementById("editBtn")
        .addEventListener("click", function () {
          handleModalAction("edit");
        });

      document
        .getElementById("viewBtn")
        .addEventListener("click", function () {
          handleModalAction("view");
        });

      // Close modal when clicking outside
      document
        .getElementById("modeModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            hideModeModal();
          }
        });
    });

    // Variable to store which button triggered the modal
    let currentButtonType = "";

    // Function to show modal
    function showModeModal(buttonType) {
      const modal = document.getElementById("modeModal");
      modal.style.display = "flex";
      currentButtonType = buttonType;
      console.log("Modal shown for:", buttonType); // Debug log
    }

    // Function to hide modal
    function hideModeModal() {
      const modal = document.getElementById("modeModal");
      modal.style.display = "none";
      currentButtonType = "";
    }

    // Function to handle modal button clicks
    function handleModalAction(action) {
      console.log("Action:", action, "Button Type:", currentButtonType); // Debug log

      if (currentButtonType === "map") {
        if (action === "edit") {
          localStorage.setItem("mapType", "neighborhood");
          console.log("mapType set to:", localStorage.getItem("mapType"));
          window.location.href = "./edit.html";
        } else if (action === "view") {
          localStorage.setItem("mapType", "neighborhood");
          console.log("mapType set to:", localStorage.getItem("mapType"));
          window.location.href = "./maps/index2.html";
        }
      } else if (currentButtonType === "services") {
        if (action === "edit") {
          localStorage.setItem("mapType", "city");
          console.log("mapType set to:", localStorage.getItem("mapType"));
          window.location.href = "./edit.html";
        } else if (action === "view") {
          localStorage.setItem("mapType", "city");
          console.log("mapType set to:", localStorage.getItem("mapType"));
          window.location.href = "./sector/index2.html";
        }
      }

      hideModeModal();
    }
  </script>

  <!-- Notification system -->
  <div id="notification-container"></div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Create notification after 5 seconds
      setTimeout(function () {
        showNotification("البيانات تحتاج إلى مراجعة قبل 30 يوم", "warning");
      }, 1500);
    });

    // Function to show notifications
    function showNotification(message, type = "info") {
      const container = document.getElementById("notification-container");

      // Create notification element
      const notification = document.createElement("div");
      notification.className = `notification notification-${type}`;

      // Set icon based on type
      let icon = "fa-info-circle";
      if (type === "success") icon = "fa-check-circle";
      if (type === "warning") icon = "fa-exclamation-triangle";
      if (type === "error") icon = "fa-exclamation-circle";

      notification.innerHTML = `
        <div class="notification-content">
          <i class="fas ${icon}"></i>
          <span>${message}</span>
        </div>
        <button class="notification-close">تجاهل</button>
      `;

      // Add to container
      container.appendChild(notification);

      // Show with animation
      setTimeout(() => notification.classList.add("show"), 10);

      // Add event listener to close button
      notification
        .querySelector(".notification-close")
        .addEventListener("click", () => {
          notification.classList.remove("show");
          setTimeout(() => notification.remove(), 300);
        });

      // Auto-dismiss after 10 seconds
      setTimeout(() => {
        if (document.body.contains(notification)) {
          notification.classList.remove("show");
          setTimeout(() => {
            if (document.body.contains(notification)) {
              notification.remove();
            }
          }, 300);
        }
      }, 10000);
    }
  </script>

  <style>
    /* Notification styles */
    #notification-container {
      position: fixed;
      top: 70px;
      right: 20px;
      z-index: 9999;
      direction: rtl;
    }

    .notification {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      margin-bottom: 10px;
      width: 320px;
      max-width: 90vw;
      overflow: hidden;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      transform: translateX(120%);
      transition: transform 0.3s ease;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification-content {
      display: flex;
      align-items: center;
      flex: 1;
    }

    .notification-content i {
      margin-left: 12px;
      font-size: 20px;
    }

    .notification-warning {
      border-right: 4px solid #f59e0b;
    }

    .notification-warning i {
      color: #f59e0b;
    }

    .notification-info {
      border-right: 4px solid #3b82f6;
    }

    .notification-info i {
      color: #3b82f6;
    }

    .notification-success {
      border-right: 4px solid #10b981;
    }

    .notification-success i {
      color: #10b981;
    }

    .notification-error {
      border-right: 4px solid #ef4444;
    }

    .notification-error i {
      color: #ef4444;
    }

    .notification-close {
      background: none;
      border: none;
      color: #6b7280;
      cursor: pointer;
      font-size: 0.9rem;
      padding: 5px 10px;
      border-radius: 4px;
      transition: background-color 0.2s;
    }

    .notification-close:hover {
      background-color: #f3f4f6;
    }

    /* Responsive adjustments */
    @media (max-width: 480px) {
      #notification-container {
        right: 10px;
        left: 10px;
        width: auto;
      }

      .notification {
        width: 100%;
      }
    }
  </style>
</body>

</html>