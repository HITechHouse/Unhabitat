<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="shortcut icon" href="../assets/img/UN_Habitat_Icon.svg" type="image/x-icon" />
  <title>Tables</title>
  <!-- Fonts and icons -->
  <link href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,800" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <!-- CSS Files -->
  <link id="pagestyle" href="../assets/css/soft-ui-dashboard.css?v=1.1.0" rel="stylesheet" />


  <!-- Simplified Arabic Font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Github buttons -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="https://cdn.jsdelivr.net/npm/soft-ui-dashboard@1.1.0/assets/js/soft-ui-dashboard.min.js"></script>

  <style>
    /* General body styles and font setup */
    body {
      margin: 0;
      padding: 0;
      font-family: "Noto Naskh Arabic", sans-serif;
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
      overflow-y: auto;
      background-color: #f8f9fa;
    }

    /* Arabic font for RTL and specific elements */
    :lang(ar),
    [lang="ar"],
    .arabic-text,
    .copyright-text,
    .social-icons,
    .btn,
    label,
    input,
    .header-title,
    .title-ar,
    .title-en,
    .header-title div {
      font-family: "Noto Naskh Arabic", sans-serif;
    }

    body[dir="ltr"] *:not(i):not(.fa):not(.fab):not(.fas):not(.far) {
      font-family: "Noto Naskh Arabic", sans-serif;
    }

    /* Header styles */
    #mainHeader {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 5000;
      background-color: #00b2e3;
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 4px 16px;
      height: 50px;
      box-sizing: border-box;
      direction: rtl !important;
    }

    .header-title {
      flex: 1;
      text-align: center;
      font-weight: bold;
      font-size: 1.4rem;
      line-height: 1.4;
    }

    #mainHeader .title-ar {
      font-size: 1.1rem !important;
      margin-bottom: 2px !important;
    }

    #mainHeader .title-en {
      font-size: 0.7rem !important;
      opacity: 0.9 !important;
    }

    .header-logo {
      height: 40px;
      width: 40px;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.7);
      object-fit: contain;
    }

    .header-logos {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 5px;
    }

    /* Language and menu buttons */
    .language-dropdown {
      position: relative;
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 1031;
    }

    .language-toggle {
      cursor: pointer;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.18);
      color: #fff;
      font-weight: bold;
      font-size: 1.1rem;
      border: 2px solid rgba(255, 255, 255, 0.7);
      outline: none;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      transition: 0.2s, border 0.2s, box-shadow 0.2s;
      position: relative;
      z-index: 5000;
    }

    .language-toggle:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .language-toggle:active {
      background: rgba(255, 255, 255, 0.4);
    }

    .menu-dropdown {
      position: relative;
      display: inline-block;
    }

    .menu-toggle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.18);
      color: #fff;
      border: 2px solid rgba(255, 255, 255, 0.7);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .menu-toggle:hover {
      background: rgba(255, 255, 255, 0.32);
      transform: scale(1.05);
    }

    .menu-dropdown-content {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background-color: white;
      min-width: 160px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      z-index: 1000;
      margin-top: 5px;
    }

    .menu-item {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      text-decoration: none;
      color: #333;
      transition: background-color 0.3s ease;
    }

    .menu-item i {
      margin-left: 8px;
      width: 20px;
      text-align: center;
    }

    .menu-item:hover {
      background-color: #f5f5f5;
    }

    body[dir="ltr"] .menu-dropdown-content {
      right: auto;
      left: 0;
    }

    body[dir="ltr"] .menu-item i {
      margin-left: 0;
      margin-right: 8px;
    }

    /* Sidebar styles */
    #sidenav-main .navbar-nav {
      padding-inline-start: 0 !important;
    }

    .sidenav-header {
      padding-top: 20px;
      margin-bottom: 10px;
    }

    .navbar-brand {
      margin-top: 20px !important;
      display: block;
      padding: 10px 0;
    }

    .navbar-brand-img {
      max-height: 35px;
      width: auto;
    }

    /* Footer styles */
    #mainFooter {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100vw;
      z-index: 1000;
      background-color: #00b2e3;
      padding: 4px 16px;
      height: 50px;
      box-sizing: border-box;
      display: flex;
      align-items: center;
      direction: rtl !important;
    }

    .footer-content {
      margin: 0 auto;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 1rem;
      color: white;
    }

    .footer-logo {
      height: 24px;
      margin-right: 8px;
      vertical-align: middle;
      display: inline-block !important;
    }

    /* Footer Copyright Image Style */
    footer .copyright img {
      height: 40px;
      width: 40px;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.7);
      background-color: white;
      padding: 2px;
      object-fit: contain;
      background-clip: content-box;
      vertical-align: middle;
      margin-right: 8px;
      /* Space to the right of the image (RTL) */
    }

    .companyHITech {
      color: white !important;
      text-decoration: none;
      transition: color 0.3s ease;
      display: inline-block;
      margin: 0 8px;
    }

    .companyHITech:hover {
      color: #f0f0f0 !important;
      text-decoration: underline;
    }

    .copyright-text {
      color: white;
      display: inline-block;
      margin-right: 8px;
      font-size: 14px;
    }

    .social-icon {
      color: #fff;
      font-size: 1.2rem;
      margin-left: 1rem;
      transition: color 0.3s ease;
    }

    .social-icon:hover {
      color: #3498db;
    }

    body[dir="rtl"] .footer-content,
    body[dir="ltr"] .footer-content {
      flex-direction: row;
    }

    body[dir="rtl"] .footer-logo {
      margin-right: 8px;
      margin-left: 0;
    }

    body[dir="ltr"] .footer-logo {
      margin-left: 8px;
      margin-right: 0;
    }

    body[dir="rtl"] .social-icon {
      margin-left: 1rem;
      margin-right: 0;
    }

    body[dir="ltr"] .social-icon {
      margin-right: 1rem;
      margin-left: 0;
    }

    /* Font Awesome icon styles */
    .fa,
    .fab,
    .fas,
    .far,
    i.fa,
    i.fab,
    i.fas,
    i.far,
    i.fa-facebook-f,
    i.fa-x-twitter,
    i.fa-instagram,
    i.fa-linkedin-in,
    i.fa-whatsapp {
      font-family: "Font Awesome 6 Free", "Font Awesome 6 Brands" !important;
      display: inline-block !important;
      visibility: visible !important;
    }

    /* Grid Box Formatting */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
      /* height: calc(100vh - 200px); */
      /* Adjust height to fit viewport */
      overflow-y: auto;
      /* Enable scrolling only if needed */
      padding: 20px;
    }

    .grid-item {
      background-color: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      /* padding: 20px; */
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
      height: 150px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .grid-item::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #0d6efd20, #6c757d20);
      z-index: -1;
      transition: opacity 0.3s ease;
      opacity: 0;
    }

    .grid-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    .grid-item:hover::before {
      opacity: 1;
    }

    .grid-item h3 {
      font-size: 1.2rem;
      font-weight: bold;
      color: #333;
      margin-bottom: 10px;
    }

    .grid-item i {
      font-size: 2.5rem;
      /* Icon size */
      color: #0d6efd;
      /* Icon color */
      margin-bottom: 10px;
      /* Spacing between icon and text */
      display: block;
      /* Make the icon display on its own line */
    }

    .grid-item h3 {
      font-size: 1.2rem;
      font-weight: bold;
      color: #333;
    }

    .table-container {
      max-height: 400px;
      overflow-y: auto;
      border: 1px solid #ddd;
      border-radius: 8px;
      margin-top: 20px;
    }

    .table {
      width: 100%;
      border-collapse: collapse;
    }

    .table thead {
      background-color: #f8f9fa;
      position: sticky;
      top: 0;
      z-index: 1;
    }

    .table th,
    .table td {
      padding: 10px;
      text-align: center;
      border: 1px solid #ddd;
    }

    .table tbody tr:hover {
      background-color: #f1f1f1;
    }

    .btn-add {
      margin-bottom: 20px;
    }

    .btn-edit {
      background-color: #ffc107;
      border-color: #ffc107;
    }

    .btn-delete {
      background-color: #dc3545;
      border-color: #dc3545;
    }

    .hidden {
      display: none;
    }

    /* Improving the appearance of the popup window */
    .modal {
      padding-right: 0 !important;
      overflow-y: auto;
    }

    /* Modal Dialog: Centered and Smaller */
    .modal-dialog {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0 auto;
      width: 95vw;
    }

    /* Modal Content: Compact and Clear */
    .modal-content {
      border-radius: 12px;
      border: none;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
      background: #fff;
      margin: 0;
      padding: 0;
      animation: fadeIn 0.3s;
    }

    /* Modal Header: Keep current colors, reduce padding */
    .modal-header {
      background: linear-gradient(135deg, #0d6efd, #1a73e8);
      color: #fff;
      border-radius: 12px 12px 0 0;
      padding: 1px 20px;
    }

    /* Modal Title: Smaller, bold, clear */
    .modal-title {
      font-size: 1.1rem;
      font-weight: bold;
      margin: 0;
      color: #fff;
    }

    /* Modal Body: Compact, clear spacing */
    .modal-body {
      padding: 8px 10px;
      font-size: 0.92rem;
      /* أزل max-height و overflow-y */
    }

    /* Modal Footer: Compact, clear */
    .modal-footer {
      border-top: 1px solid #e0e0e0;
      padding: 10px 18px;
      border-radius: 0 0 12px 12px;
      background: #f8f9fa;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }

    /* Close Button: Slightly smaller */
    .btn-close {
      width: 28px;
      height: 28px;
    }

    /* Form Controls: Clear, compact */
    .modal-content .form-control {
      font-size: 0.95rem;
      padding: 6px 10px;
      border-radius: 6px;
    }

    /* Labels: Clear, smaller */
    .modal-content label {
      font-size: 0.95rem;
      margin-bottom: 4px;
    }

    /* Action Buttons: Compact, clear */
    .modal-content .btn {
      font-size: 0.95rem;
      padding: 6px 16px;
      border-radius: 6px;
    }

    /* Responsive: On mobile, use 98vw */
    @media (max-width: 600px) {
      .modal-dialog {
        max-width: 98vw !important;
        width: 98vw;
      }

      .modal-content {
        border-radius: 8px;
      }
    }

    /* Adjust modal size */
    .modal-lg {
      max-width: 70%;
      /* Reduce maximum width */
      margin: 0 auto;
    }

    /* Center and reduce the size of the edit modal */
    .modal .modal-dialog.edit-modal {
      max-width: 500px;
      margin: 1.75rem auto;
    }

    /* Ensure all modals are centered */
    .modal-dialog {
      display: flex;
      align-items: center;
      min-height: calc(100% - 3.5rem);
      margin: 1.75rem auto;
    }

    /* Close button */
    .btn-close {
      position: relative;
      width: 32px;
      height: 32px;
      padding: 0;
      margin: 0;
      border: none;
      background: transparent;
      cursor: pointer;
    }

    .btn-close::before,
    .btn-close::after {
      content: "";
      position: absolute;
      width: 20px;
      height: 2px;
      background-color: #ffffff;
      top: 50%;
      left: 50%;
    }

    .btn-close::before {
      transform: translate(-50%, -50%) rotate(45deg);
    }

    .btn-close::after {
      transform: translate(-50%, -50%) rotate(-45deg);
    }

    .btn-close:hover::before,
    .btn-close:hover::after {
      background-color: rgba(255, 255, 255, 0.8);
    }

    .btn-close:hover {
      transform: scale(1.1);
    }

    .btn-close:focus {
      outline: none;
      box-shadow: none;
    }

    /* Improve the appearance of tables */
    .table-container {
      max-height: 450px;
      overflow-y: auto;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      margin-top: 8px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
    }

    .table {
      width: 100%;
      border-collapse: collapse;
      margin: 0;
      font-size: 0.85rem;
    }

    .table thead {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      position: sticky;
      top: 0;
      z-index: 1;
    }

    .table th {
      padding: 6px 8px;
      text-align: center;
      font-weight: 600;
      color: #495057;
      border-bottom: 1px solid #dee2e6;
      white-space: nowrap;
      font-size: 0.8rem;
    }

    .table td {
      padding: 4px 4px;
      text-align: center;
      vertical-align: middle;
      border-bottom: 1px solid #e9ecef;
      color: #495057;
    }

    .table tbody tr {
      transition: all 0.2s ease;
    }

    .table tbody tr:hover {
      background-color: #f8f9fa;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    /* Improve action buttons */
    .btn-add {
      background: linear-gradient(135deg, #0d6efd, #1a73e8);
      border: none;
      border-radius: 4px;
      padding: 6px 12px;
      color: white;
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(13, 110, 253, 0.2);
      margin-bottom: 10px;
      font-size: 0.85rem;
    }

    .btn-add:hover {
      transform: translateY(-1px);
      box-shadow: 0 3px 8px rgba(13, 110, 253, 0.3);
    }

    .btn-edit {
      background: linear-gradient(135deg, #ffc107, #ffb007);
      border: none;
      border-radius: 6px;
      padding: 6px 12px;
      color: #212529;
      font-weight: 500;
      transition: all 0.3s ease;
      margin-right: 5px;
    }

    .btn-edit:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
    }

    .btn-delete {
      background: linear-gradient(135deg, #dc3545, #c82333);
      border: none;
      border-radius: 6px;
      padding: 6px 12px;
      color: white;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .btn-delete:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(220, 53, 69, 0.2);
    }

    /* Animation effects */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Scrollbar customization */
    .table-container::-webkit-scrollbar {
      width: 8px;
    }

    .table-container::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }

    .table-container::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 4px;
    }

    .table-container::-webkit-scrollbar-thumb:hover {
      background: #a8a8a8;
    }

    .grid-item {
      background: linear-gradient(135deg, #e3f2fd, #ffffff);
      border: none;
      border-radius: 8px;
      padding: 10px 6px;
      /* Reduced padding */
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
      margin: 4px;
      /* Reduced margin */
      height: 120px;
      /* Added specific height */
    }

    .grid-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    .grid-item i {
      font-size: 2.2rem;
      /* Further Reduced icon size */
      margin-bottom: 3px;
      /* Further Reduced bottom margin */
      transition: transform 0.3s ease;
    }

    .grid-item h3 {
      font-size: 0.9rem;
      /* Further Reduced font size */
      font-weight: bold;
      color: #333;
      margin: 0;
    }

    .grid-item:hover i {
      transform: scale(1.1);
    }

    /* Grid container */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fill,
          minmax(140px, 1fr));
      /* Further Reduced minimum size */
      gap: 7px;
      /* Further Reduced space between elements */
      padding: 6px;
      /* Further Reduced padding */
      margin-bottom: 15px;
    }

    /* Dynamic colors for each box */
    .grid-item:nth-child(1) {
      background-color: #e8f5e9;
    }

    /* Light green */
    .grid-item:nth-child(2) {
      background-color: #fff3e0;
    }

    /* Light orange */
    .grid-item:nth-child(3) {
      background-color: #e3f2fd;
    }

    /* Light blue */
    .grid-item:nth-child(4) {
      background-color: #ffebee;
    }

    /* Light red */
    .grid-item:nth-child(5) {
      background-color: #f3e5f5;
    }

    /* Light purple */
    .grid-item:nth-child(6) {
      background-color: #e0f7fa;
    }

    /* Light sky blue */
    .grid-item:nth-child(7) {
      background-color: #ede7f6;
    }

    /* Another light purple */
    .grid-item:nth-child(8) {
      background-color: #fffde7;
    }

    /* Light yellow */
    .grid-item:nth-child(9) {
      background-color: #e8eaf6;
    }

    /* Slightly dark blue */
    .grid-item:nth-child(10) {
      background-color: #d1c4e9;
    }

    /* Medium purple */
    .grid-item:nth-child(11) {
      background-color: #b2ebf2;
    }

    /* Aqua blue */
    .grid-item:nth-child(12) {
      background-color: #ffecb3;
    }

    /* Light gold */
    .grid-item:nth-child(13) {
      background-color: #c8e6c9;
    }

    /* Medium green */
    .grid-item:nth-child(14) {
      background-color: #bbdefb;
    }

    /* .grid-item h4 {
      font-size: 0.8rem;
      color: #666;
      margin: 0;
      margin-top: 5px;
    } */

    /* Modal and form elements: responsive to direction */
    .modal-header .btn-close {
      margin: 0;
    }

    body[dir="rtl"] .modal-header .btn-close {
      right: auto;
    }

    body[dir="ltr"] .modal-header .btn-close {
      left: auto;
    }

    /* Make modal content direction-aware */
    body[dir="rtl"] .modal-content,
    body[dir="rtl"] .dropdown-menu,
    body[dir="rtl"] .dropdown-item,
    body[dir="rtl"] .menu-dropdown-content,
    body[dir="rtl"] .menu-item {
      text-align: right;
      direction: rtl;
    }

    body[dir="ltr"] .modal-content,
    body[dir="ltr"] .dropdown-menu,
    body[dir="ltr"] .dropdown-item,
    body[dir="ltr"] .menu-dropdown-content,
    body[dir="ltr"] .menu-item {
      text-align: left;
      direction: ltr;
    }

    /* Make form labels and inputs direction-aware */
    body[dir="rtl"] .form-label,
    body[dir="rtl"] .edit-form label,
    body[dir="rtl"] .modal label,
    body[dir="rtl"] .modal-title {
      text-align: right;
      float: right;
      width: 100%;
    }

    body[dir="ltr"] .form-label,
    body[dir="ltr"] .edit-form label,
    body[dir="ltr"] .modal label,
    body[dir="ltr"] .modal-title {
      text-align: left;
      float: left;
      width: 100%;
    }

    /* Modal footer buttons alignment */
    body[dir="rtl"] .modal-footer {
      flex-direction: row-reverse;
    }

    /* Form controls alignment */
    body[dir="rtl"] .form-control,
    body[dir="rtl"] input[type="text"],
    body[dir="rtl"] input[type="number"],
    body[dir="rtl"] select,
    body[dir="rtl"] textarea,
    body[dir="rtl"] .edit-form input,
    body[dir="rtl"] .edit-form select {
      text-align: right;
      direction: rtl;
    }

    body[dir="ltr"] .form-control,
    body[dir="ltr"] input[type="text"],
    body[dir="ltr"] input[type="number"],
    body[dir="ltr"] select,
    body[dir="ltr"] textarea,
    body[dir="ltr"] .edit-form input,
    body[dir="ltr"] .edit-form select {
      text-align: left;
      direction: ltr;
    }

    /* Action buttons in table: small, square, icon-only */
    .btn-group.btn-group-sm {
      display: flex;
      gap: 6px;
      justify-content: center;
    }

    .btn-edit,
    .btn-delete {
      width: 32px;
      height: 32px;
      min-width: 32px;
      min-height: 32px;
      max-width: 32px;
      max-height: 32px;
      padding: 0;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
    }

    .btn-edit i,
    .btn-delete i {
      font-size: 1.15rem;
      margin: 0;
    }

    .btn-edit {
      background: linear-gradient(135deg, #ffc107, #ffb007);
      color: #212529;
      border: none;
    }

    .btn-delete {
      background: linear-gradient(135deg, #dc3545, #c82333);
      color: #fff;
      border: none;
    }

    .btn-edit:hover,
    .btn-delete:hover {
      opacity: 0.85;
    }

    .square-action-btn {
      width: 35px !important;
      height: 35px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      padding: 0 !important;
      border-radius: 10px !important;
    }

    .square-action-btn i {
      font-size: 1.7rem !important;
    }

    /* تصغير حجم الخط للعناصر داخل المودال */
    .modal-content label,
    .modal-content .form-label,
    .modal-content .btn,
    .modal-content input,
    .modal-content select,
    .modal-content textarea {
      font-size: 0.92rem !important;
      padding: 4px 8px !important;
      margin-bottom: 2px !important;
    }

    .modal-content .btn {
      padding: 5px 12px !important;
    }

    .modal-title {
      font-size: 1rem !important;
    }
  </style>
</head>

<body class="g-sidenav-show bg-gray-100">
  <!-- New Header -->
  <header id="mainHeader">
    <div style="display: flex; align-items: center; gap: 10px">
      <a href="./admin.html" title="Go to Admin Page">
        <img src="../assets/img/unhabitat.jfif" alt="Logo 3" class="header-logo" style="cursor: pointer" />
      </a>
      <div class="language-dropdown">
        <button class="language-toggle" id="langToggleBtn" onclick="toggleLanguage()" aria-label="Toggle Language">
          AR
        </button>
      </div>
      <!-- Add menu dropdown button -->
      <div class="menu-dropdown">
        <button title="toggle language" class="menu-toggle" id="menuToggleBtn" onclick="toggleMenu()"
          style="background-image: url('../assets/img/user1.jpg'); background-size: cover; background-position: center;">
        </button>
        <div class="menu-dropdown-content" id="menuDropdown">
          <a href="#" class="menu-item" id="settingsBtn" onclick="window.location.href = './profile.html';">
            <i class="fas fa-cog"></i>
            <span id="settingsText">الإعدادات</span>
          </a>
          <a href="#" class="menu-item" id="logoutBtn" onclick="window.location.href = './index.html';">
            <i class="fas fa-sign-out-alt"></i>
            <span id="logoutText">تسجيل الخروج</span>
          </a>
        </div>
      </div>
    </div>

    <div class="header-title text-center">
      <div class="title-ar">نظام إدارة المعلومات الحضرية _ مدينة حلب</div>
      <div class="title-en">
        Urban Information Management System - Aleppo City
      </div>
    </div>

    <div class="header-logos right-logos">
      <img src="../assets/img/aleppo.jfif" alt="Logo 1" class="header-logo" />
      <img src="../assets/img/japan.png" alt="Logo 2" class="header-logo" />
    </div>
  </header>

  <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 my-3 fixed-end bg-gray-300" id="sidenav-main"
    style="max-height: calc(100vh - 66px); overflow-y: visible">
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none"
        aria-hidden="true" id="iconSidenav"></i>
    </div>

    <div class="collapse navbar-collapse">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="../pages/dashboard.html">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 ms-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 45 40" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title></title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1716.000000, -439.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(0.000000, 148.000000)">
                        <path class="color-background opacity-6"
                          d="M46.7199583,10.7414583 L40.8449583,0.949791667 C40.4909749,0.360605034 39.8540131,0 39.1666667,0 L7.83333333,0 C7.1459869,0 6.50902508,0.360605034 6.15504167,0.949791667 L0.280041667,10.7414583 C0.0969176761,11.0460037 -1.23209662e-05,11.3946378 -1.23209662e-05,11.75 C-0.00758042603,16.0663731 3.48367543,19.5725301 7.80004167,19.5833333 L7.81570833,19.5833333 C9.75003686,19.5882688 11.6168794,18.8726691 13.0522917,17.5760417 C16.0171492,20.2556967 20.5292675,20.2556967 23.494125,17.5760417 C26.4604562,20.2616016 30.9794188,20.2616016 33.94575,17.5760417 C36.2421905,19.6477597 39.5441143,20.1708521 42.3684437,18.9103691 C45.1927731,17.649886 47.0084685,14.8428276 47.0000295,11.75 C47.0000295,11.3946378 46.9030823,11.0460037 46.7199583,10.7414583 Z">
                        </path>
                        <path class="color-background"
                          d="M39.198,22.4912623 C37.3776246,22.4928106 35.5817531,22.0149171 33.951625,21.0951667 L33.92225,21.1107282 C31.1430221,22.6838032 27.9255001,22.9318916 24.9844167,21.7998837 C24.4750389,21.605469 23.9777983,21.3722567 23.4960833,21.1018359 L23.4745417,21.1129513 C20.6961809,22.6871153 17.4786145,22.9344611 14.5386667,21.7998837 C14.029926,21.6054643 13.533337,21.3722507 13.0522917,21.1018359 C11.4250962,22.0190609 9.63246555,22.4947009 7.81570833,22.4912623 C7.16510551,22.4842162 6.51607673,22.4173045 5.875,22.2911849 L5.875,44.7220845 C5.875,45.9498589 6.7517757,46.9451667 7.83333333,46.9451667 L19.5833333,46.9451667 L19.5833333,33.6066734 L27.4166667,33.6066734 L27.4166667,46.9451667 L39.1666667,46.9451667 C40.2482243,46.9451667 41.125,45.9498589 41.125,44.7220845 L41.125,22.2822926 C40.4887822,22.4116582 39.8442868,22.4815492 39.198,22.4912623 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Dashboard</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link active" href="../pages/tables.html">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 ms-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>office</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1869.000000, -293.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g id="office" transform="translate(153.000000, 2.000000)">
                        <path class="color-background opacity-6"
                          d="M12.25,17.5 L8.75,17.5 L8.75,1.75 C8.75,0.78225 9.53225,0 10.5,0 L31.5,0 C32.46775,0 33.25,0.78225 33.25,1.75 L33.25,12.25 L29.75,12.25 L29.75,3.5 L12.25,3.5 L12.25,17.5 Z">
                        </path>
                        <path class="color-background"
                          d="M40.25,14 L24.5,14 C23.53225,14 22.75,14.78225 22.75,15.75 L22.75,38.5 L19.25,38.5 L19.25,22.75 C19.25,21.78225 18.46775,21 17.5,21 L1.75,21 C0.78225,21 0,21.78225 0,22.75 L0,40.25 C0,41.21775 0.78225,42 1.75,42 L40.25,42 C41.21775,42 42,41.21775 42,40.25 L42,15.75 C42,14.78225 41.21775,14 40.25,14 Z M12.25,36.75 L7,36.75 L7,33.25 L12.25,33.25 L12.25,36.75 Z M12.25,29.75 L7,29.75 L7,26.25 L12.25,26.25 L12.25,29.75 Z M35,36.75 L29.75,36.75 L29.75,33.25 L35,33.25 L35,36.75 Z M35,29.75 L29.75,29.75 L29.75,26.25 L35,26.25 L35,29.75 Z M35,22.75 L29.75,22.75 L29.75,19.25 L35,19.25 L35,22.75 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">configuration Tables </span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="../pages/ManageUsers.html">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 ms-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>box-3d-50</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-2319.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(603.000000, 0.000000)">
                        <path class="color-background"
                          d="M22.7597136,19.3090182 L38.8987031,11.2395234 C39.3926816,10.9925342 39.592906,10.3918611 39.3459167,9.89788265 C39.249157,9.70436312 39.0922432,9.5474453 38.8987261,9.45068056 L20.2741875,0.1378125 L20.2741875,0.1378125 C19.905375,-0.04725 19.469625,-0.04725 19.0995,0.1378125 L3.1011696,8.13815822 C2.60720568,8.38517662 2.40701679,8.98586148 2.6540352,9.4798254 C2.75080129,9.67332903 2.90771305,9.83023153 3.10122239,9.9269862 L21.8652864,19.3090182 C22.1468139,19.4497819 22.4781861,19.4497819 22.7597136,19.3090182 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M23.625,22.429159 L23.625,39.8805372 C23.625,40.4328219 24.0727153,40.8805372 24.625,40.8805372 C24.7802551,40.8805372 24.9333778,40.8443874 25.0722402,40.7749511 L41.2741875,32.673375 L41.2741875,32.673375 C41.719125,32.4515625 42,31.9974375 42,31.5 L42,14.241659 C42,13.6893742 41.5522847,13.241659 41,13.241659 C40.8447549,13.241659 40.6916418,13.2778041 40.5527864,13.3472318 L24.1777864,21.5347318 C23.8390024,21.7041238 23.625,22.0503869 23.625,22.429159 Z">
                        </path>
                        <path class="color-background opacity-6"
                          d="M20.4472136,21.5347318 L1.4472136,12.0347318 C0.953235098,11.7877425 0.352562058,11.9879669 0.105572809,12.4819454 C0.0361450918,12.6208008 6.47121774e-16,12.7739139 0,12.929159 L0,30.1875 L0,30.1875 C0,30.6849375 0.280875,31.1390625 0.7258125,31.3621875 L19.5528096,40.7750766 C20.0467945,41.0220531 20.6474623,40.8218132 20.8944388,40.3278283 C20.963859,40.1889789 21,40.0358742 21,39.8806379 L21,22.429159 C21,22.0503869 20.7859976,21.7041238 20.4472136,21.5347318 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Manage users</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="../pages/profile.html">
            <div
              class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 ms-2 d-flex align-items-center justify-content-center">
              <svg width="12px" height="12px" viewBox="0 0 46 42" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>customer-support</title>
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g transform="translate(-1717.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <g transform="translate(1716.000000, 291.000000)">
                      <g transform="translate(1.000000, 0.000000)">
                        <path class="color-background opacity-6"
                          d="M45,0 L26,0 C25.447,0 25,0.447 25,1 L25,20 C25,20.379 25.214,20.725 25.553,20.895 C25.694,20.965 25.848,21 26,21 C26.212,21 26.424,20.933 26.6,20.8 L34.333,15 L45,15 C45.553,15 46,14.553 46,14 L46,1 C46,0.447 45.553,0 45,0 Z">
                        </path>
                        <path class="color-background"
                          d="M22.883,32.86 C20.761,32.012 17.324,31 13,31 C8.676,31 5.239,32.012 3.116,32.86 C1.224,33.619 0,35.438 0,37.494 L0,41 C0,41.553 0.447,42 1,42 L25,42 C25.553,42 26,41.553 26,41 L26,37.494 C26,35.438 24.776,33.619 22.883,32.86 Z">
                        </path>
                        <path class="color-background"
                          d="M13,28 C17.432,28 21,22.529 21,18 C21,13.589 17.411,10 13,10 C8.589,10 5,13.589 5,18 C5,22.529 8.568,28 13,28 Z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <span class="nav-link-text ms-1">Profile</span>
          </a>
        </li>
      </ul>
    </div>
    <div class="sidenav-footer mx-3"></div>
  </aside>
  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg">
    <!-- Navbar -->

    <div class="container-fluid py-4">
      <!-- Grid boxes -->
      <div class="container-fluid py-4">
        <div class="grid-container">
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#operationalStatusesModal">
            <i class="fas fa-cogs fa-2x"></i>
            <h3>مستلزمات التشغيل</h3>
            <!-- <h4>Operating requirements</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#interventionPrioritiesModal">
            <i class="fas fa-list-ol fa-2x"></i>
            <h3>أولويات التدخل</h3>
            <!-- <h4>Intervention Priorities</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#infrastructureStatusesModal">
            <i class="fas fa-building fa-2x"></i>
            <h3>حالات البنية التحتية</h3>
            <!-- <h4>Infrastructure Statuses</h4> -->
          </div>

          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#staffStatusesModal">
            <i class="fas fa-users fa-2x"></i>
            <h3>حالات الموظفين</h3>
            <!-- <h4>Staff Statuses</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#consumablesStatusesModal">
            <i class="fas fa-boxes fa-2x"></i>
            <h3>حالات المستهلكات</h3>
            <!-- <h4>Consumables Statuses</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#damageLevelsModal">
            <i class="fas fa-exclamation-triangle fa-2x"></i>
            <h3>مستويات الضرر</h3>
            <!-- <h4>Damage Levels</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#networkStatusesModal">
            <i class="fas fa-network-wired fa-2x"></i>
            <h3>حالات الشبكة</h3>
            <!-- <h4>Network Statuses</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#supplyOperationLevelModal">
            <i class="fas fa-truck fa-2x"></i>
            <h3>مستويات تشغيل خطوط الإمداد</h3>
            <!-- <h4>Supply Operation Levels</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#ownershipDocumentationTypesModal">
            <i class="fas fa-file-contract fa-2x"></i>
            <h3>أنواع توثيق الملكية</h3>
            <!-- <h4>Ownership Documentation Types</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#damageDescriptionsModal">
            <i class="fas fa-clipboard-list fa-2x"></i>
            <h3>أوصاف الضرر</h3>
            <!-- <h4>Damage Descriptions</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#ownershipTypesModal">
            <i class="fas fa-house-user fa-2x"></i>
            <h3>أنواع الملكية</h3>
            <!-- <h4>Ownership Types</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#urbanConditionsModal">
            <i class="fas fa-city fa-2x"></i>
            <h3>الحالات الحضرية</h3>
            <!-- <h4>Urban Conditions</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#dominantLandUsesModal">
            <i class="fas fa-globe fa-2x"></i>
            <h3>الاستخدام السائد للأرض</h3>
            <!-- <h4>Dominant Land Uses</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#humanNeedsTypesModal">
            <i class="fas fa-hands-helping fa-2x"></i>
            <h3>أنواع الاحتياجات الإنسانية</h3>
            <!-- <h4>Human Needs Types</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#neighborhoodsModal">
            <i class="fas fa-home fa-2x"></i>
            <h3>ادارة وتعريف الاحياء</h3>
            <!-- <h4>Neighborhoods</h4> -->
          </div>
          <div class="grid-item" data-bs-toggle="modal" data-bs-target="#humanitarianInterventionsTypesModal">
            <i class="fas fa-hand-holding-medical fa-2x"></i>
            <h3>أنواع التدخلات الإنسانية</h3>
            <!-- <h4>Humanitarian Interventions Types</h4> -->
          </div>
        </div>
      </div>

      <!-- OperationalStatuses Modal -->
      <div class="modal fade" id="operationalStatusesModal" tabindex="-1"
        aria-labelledby="operationalStatusesModalLabel" aria-hidden="true" data-table="operationalStatuses"
        data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="operationalStatusesModalLabel" data-ar="مستلزمات التشغيل"
                data-en="Operating requirements">
                مستلزمات التشغيل
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-sm btn-add add-button" onclick="addRow('operationalStatuses')"
                data-ar="إضافة جديد" data-en="Add New">
                إضافة جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف الحالة التشغيلية</th>
                      <th>اسم الحالة التشغيلية</th>
                      <th>اسم الحالة التشغيلية بالعربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="operationalStatusesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- InterventionPriorities Modal -->
      <div class="modal fade" id="interventionPrioritiesModal" tabindex="-1"
        aria-labelledby="interventionPrioritiesModalLabel" aria-hidden="true" data-table="interventionPriorities"
        data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="interventionPrioritiesModalLabel" data-ar="أولويات التدخل"
                data-en="Intervention Priorities">
                أولويات التدخل
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-sm btn-add add-button" onclick="addRow('interventionPriorities')"
                data-ar="إضافة جديد" data-en="Add New">
                إضافة جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف أولوية التدخل</th>
                      <th>اسم أولوية التدخل</th>
                      <th>اسم أولوية التدخل باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="interventionPrioritiesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- InfrastructureStatuses Modal -->
      <div class="modal fade" id="infrastructureStatusesModal" tabindex="-1"
        aria-labelledby="infrastructureStatusesModalLabel" aria-hidden="true" data-table="infrastructureStatuses"
        data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="infrastructureStatusesModalLabel" data-ar="حالات البنية التحتية"
                data-en="Infrastructure Statuses">
                حالات البنية التحتية
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('infrastructureStatuses')"
                data-ar="إضافة حالة جديدة" data-en="Add New Status">
                إضافة حالة جديدة
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف حالة البنية التحتية</th>
                      <th>اسم حالة البنية التحتية</th>
                      <th>اسم حالة البنية التحتية باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="infrastructureStatusesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- StaffStatuses Modal -->
      <div class="modal fade" id="staffStatusesModal" tabindex="-1" aria-labelledby="staffStatusesModalLabel"
        aria-hidden="true" data-table="staffStatuses" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staffStatusesModalLabel" data-ar="حالات الموظفين" data-en="Staff Statuses">
                حالات الموظفين
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('staffStatuses')"
                data-ar="إضافة حالة جديدة" data-en="Add New Status">
                إضافة حالة جديدة
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف حالة الموظفين</th>
                      <th>اسم حالة الموظفين</th>
                      <th>اسم حالة الموظفين باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="staffStatusesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ConsumablesStatuses Modal -->
      <div class="modal fade" id="consumablesStatusesModal" tabindex="-1"
        aria-labelledby="consumablesStatusesModalLabel" aria-hidden="true" data-table="consumablesStatuses"
        data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="consumablesStatusesModalLabel" data-ar="حالات المستهلكات"
                data-en="Consumables Statuses">
                حالات المستهلكات
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('consumablesStatuses')"
                data-ar="إضافة حالة جديدة" data-en="Add New Status">
                إضافة حالة جديدة
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف حالة المستهلكات</th>
                      <th>اسم حالة المستهلكات</th>
                      <th>اسم حالة المستهلكات باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="consumablesStatusesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- DamageLevels Modal -->
      <div class="modal fade" id="damageLevelsModal" tabindex="-1" aria-labelledby="damageLevelsModalLabel"
        aria-hidden="true" data-table="damageLevels" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="damageLevelsModalLabel" data-ar="مستويات الضرر" data-en="Damage Levels">
                مستويات الضرر
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('damageLevels')"
                data-ar="إضافة مستوى جديد" data-en="Add New Level">
                إضافة مستوى جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف مستوى الضرر</th>
                      <th>اسم مستوى الضرر</th>
                      <th>اسم مستوى الضرر باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="damageLevelsTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- NetworkStatuses Modal -->
      <div class="modal fade" id="networkStatusesModal" tabindex="-1" aria-labelledby="networkStatusesModalLabel"
        aria-hidden="true" data-table="networkStatuses" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="networkStatusesModalLabel" data-ar="حالات الشبكة" data-en="Network Statuses">
                حالات الشبكة
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('networkStatuses')"
                data-ar="إضافة حالة جديدة" data-en="Add New Status">
                إضافة حالة جديدة
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف حالة الشبكة</th>
                      <th>اسم حالة الشبكة</th>
                      <th>اسم حالة الشبكة باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="networkStatusesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- SupplyOperationLevel Modal -->
      <div class="modal fade" id="supplyOperationLevelModal" tabindex="-1"
        aria-labelledby="supplyOperationLevelModalLabel" aria-hidden="true" data-table="supplyOperationLevel"
        data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="supplyOperationLevelModalLabel" data-ar="مستويات تشغيل خطوط الإمداد"
                data-en="Supply Operation Levels">
                مستويات تشغيل خطوط الإمداد
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('supplyOperationLevel')"
                data-ar="إضافة مستوى جديد" data-en="Add New Level">
                إضافة مستوى جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف مستوى تشغيل خطوط الإمداد</th>
                      <th>اسم مستوى تشغيل خطوط الإمداد</th>
                      <th>اسم مستوى تشغيل خطوط الإمداد باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="supplyOperationLevelTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- OwnershipDocumentationTypes Modal -->
      <div class="modal fade" id="ownershipDocumentationTypesModal" tabindex="-1"
        aria-labelledby="ownershipDocumentationTypesModalLabel" aria-hidden="true"
        data-table="ownershipDocumentationTypes" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="ownershipDocumentationTypesModalLabel" data-ar="أنواع توثيق الملكية"
                data-en="Ownership Documentation Types">
                أنواع توثيق الملكية
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('ownershipDocumentationTypes')"
                data-ar="إضافة نوع جديد" data-en="Add New Type">
                إضافة نوع جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف نوع توثيق الملكية</th>
                      <th>اسم نوع توثيق الملكية</th>
                      <th>اسم نوع توثيق الملكية باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="ownershipDocumentationTypesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- DamageDescriptions Modal -->
      <div class="modal fade" id="damageDescriptionsModal" tabindex="-1" aria-labelledby="damageDescriptionsModalLabel"
        aria-hidden="true" data-table="damageDescriptions" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="damageDescriptionsModalLabel" data-ar="أوصاف الضرر"
                data-en="Damage Descriptions">
                أوصاف الضرر
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('damageDescriptions')"
                data-ar="إضافة وصف جديد" data-en="Add New Description">
                إضافة وصف جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف وصف الضرر</th>
                      <th>اسم وصف الضرر</th>
                      <th>اسم وصف الضرر باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="damageDescriptionsTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- OwnershipTypes Modal -->
      <div class="modal fade" id="ownershipTypesModal" tabindex="-1" aria-labelledby="ownershipTypesModalLabel"
        aria-hidden="true" data-table="ownershipTypes" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="ownershipTypesModalLabel" data-ar="أنواع الملكية" data-en="Ownership Types">
                أنواع الملكية
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('ownershipTypes')"
                data-ar="إضافة نوع جديد" data-en="Add New Type">
                إضافة نوع جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف نوع الملكية</th>
                      <th>اسم نوع الملكية</th>
                      <th>اسم نوع الملكية باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="ownershipTypesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- UrbanConditions Modal -->
      <div class="modal fade" id="urbanConditionsModal" tabindex="-1" aria-labelledby="urbanConditionsModalLabel"
        aria-hidden="true" data-table="urbanConditions" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="urbanConditionsModalLabel" data-ar="الحالات الحضرية"
                data-en="Urban Conditions">
                الحالات الحضرية
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('urbanConditions')"
                data-ar="إضافة حالة جديدة" data-en="Add New Condition">
                إضافة حالة جديدة
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف الحالة الحضرية</th>
                      <th>اسم الحالة الحضرية</th>
                      <th>اسم الحالة الحضرية باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="urbanConditionsTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- DominantLandUses Modal -->
      <div class="modal fade" id="dominantLandUsesModal" tabindex="-1" aria-labelledby="dominantLandUsesModalLabel"
        aria-hidden="true" data-table="dominantLandUses" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="dominantLandUsesModalLabel" data-ar="الاستخدام السائد للأرض"
                data-en="Dominant Land Uses">
                الاستخدام السائد للأرض
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('dominantLandUses')"
                data-ar="إضافة استخدام جديد" data-en="Add New Use">
                إضافة استخدام جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف الاستخدام السائد للأرض</th>
                      <th>الاستخدام السائد للأرض</th>
                      <th>الاستخدام السائد للأرض باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="dominantLandUsesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- HumanNeedsTypes Modal -->
      <div class="modal fade" id="humanNeedsTypesModal" tabindex="-1" aria-labelledby="humanNeedsTypesModalLabel"
        aria-hidden="true" data-table="humanNeedsTypes" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="humanNeedsTypesModalLabel" data-ar="أنواع الاحتياجات الإنسانية"
                data-en="Human Needs Types">
                أنواع الاحتياجات الإنسانية
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('humanNeedsTypes')"
                data-ar="إضافة نوع جديد" data-en="Add New Type">
                إضافة نوع جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف نوع الاحتياجات الإنسانية</th>
                      <th>اسم نوع الاحتياجات الإنسانية</th>
                      <th>اسم نوع الاحتياجات الإنسانية باللغة العربية</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="humanNeedsTypesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Neighborhoods Modal -->
      <div class="modal fade" id="neighborhoodsModal" tabindex="-1" aria-labelledby="neighborhoodsModalLabel"
        aria-hidden="true" data-table="neighborhoods" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="neighborhoodsModalLabel" data-ar="ادارة وتعريف الاحياء"
                data-en="Neighborhoods">
                ادارة وتعريف الاحياء
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('neighborhoods')"
                data-ar="إضافة حي جديد" data-en="Add New Neighborhood">
                إضافة حي جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف الحي</th>
                      <th>اسم الحي</th>
                      <th>اسم الحي باللغة العربية</th>
                      <th>رمز الحي</th>
                      <th>معرف المدينة</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="neighborhoodsTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- HumanitarianInterventionsTypes Modal -->
      <div class="modal fade" id="humanitarianInterventionsTypesModal" tabindex="-1"
        aria-labelledby="humanitarianInterventionsTypesModalLabel" aria-hidden="true"
        data-table="humanitarianInterventionsTypes" data-bs-backdrop="false">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="humanitarianInterventionsTypesModalLabel" data-ar="أنواع التدخلات الإنسانية"
                data-en="Humanitarian Interventions Types">
                أنواع التدخلات الإنسانية
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <button class="btn btn-primary btn-add add-button" onclick="addRow('humanitarianInterventionsTypes')"
                data-ar="إضافة نوع جديد" data-en="Add New Type">
                إضافة نوع جديد
              </button>
              <div class="table-container">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>معرف نوع التدخل الإنساني</th>
                      <th>اسم نوع التدخل الإنساني</th>
                      <th>تاريخ التوزيع</th>
                      <th>إجراءات</th>
                    </tr>
                  </thead>
                  <tbody id="humanitarianInterventionsTypesTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer id="mainFooter">
    <div class="footer-content">
      <div class="copyright" style="font-size:12px;">
        <span class="copyright-text" lang="ar" style="font-size:12px;">
          ©
          <script>
            document.write(new Date().getFullYear());
          </script>
          <a rel="noopener" class="companyHITech arabic-text" href="https://hasan20nassar.github.io/HTH_Profile/"
            target="_blank" lang="ar">
            , HI-Tech House</a>
        </span>
        <span lang="ar" class="arabic-text">Powered by</span>
        <!-- <img
            alt="Company Logo"
            src="../assets/img/HTH.png"
            class="footer-logo"
          />-->
      </div>
      <div class="social-icons">
        <a aria-label="WhatsApp" class="social-icon whatsapp" href="#"><i class="fab fa-whatsapp"></i></a>
        <a aria-label="LinkedIn" class="social-icon linkedin" href="#"><i class="fab fa-linkedin-in"></i></a>
        <a aria-label="Instagram" class="social-icon instagram" href="#"><i class="fab fa-instagram"></i></a>
        <a aria-label="X" class="social-icon twitter" href="#"><i class="fab fa-x-twitter"></i></a>
        <a aria-label="Facebook" class="social-icon facebook" href="#"><i class="fab fa-facebook-f"></i></a>
      </div>
    </div>
  </footer>
  <div class="fixed-plugin">
    <a id="helpButton" class="fixed-plugin-button text-dark position-fixed px-3 py-2"
      style="bottom: 80px; z-index: 6000">
      <i class="fa fa-question-circle py-2"> </i>
    </a>
  </div>
  <!--   Core JS Files   -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/perfect-scrollbar@1.5.5/dist/perfect-scrollbar.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/smooth-scrollbar@8.8.4/dist/smooth-scrollbar.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script>
    // Wait for DOM to be fully loaded
    document.addEventListener("DOMContentLoaded", function () {
      // Function to handle zoom level changes
      function handleZoom() {
        const sidenav = document.getElementById("sidenav-main");
        const windowWidth = window.innerWidth;
        const zoomLevel = window.devicePixelRatio;

        if (zoomLevel > 1.51 || windowWidth < 1200) {
          sidenav.style.display = "none";
        } else {
          sidenav.style.display = "block";
        }
      }

      // Initial check
      handleZoom();

      // Listen for zoom changes
      window.addEventListener("resize", handleZoom);
    });
  </script>

  <!-- Language Toggle Script -->
  <script>
    const translations = {
      ar: {
        dir: "rtl",
        dashboard: "لوحة التحكم",
        configTables: "جداول الإعدادات",
        maps: "الخرائط",
        manageUsers: "إدارة المستخدمين",
        profile: "الملف الشخصي",
        signIn: "تسجيل الدخول",
        signUp: "إنشاء حساب",
        families: "عدد الأسر",
        validBuildings: "منشآت صالحة",
        residentialBuildings: "منشآت سكنية",
        threatened: "مهددة بالإزالة",
        constructionStatus: "الوضع الإنشائي",
        educationStatus: "الوضع التعليمي",
        healthStatus: "الوضع الصحي",
        footerText: "© 2025، جميع الحقوق محفوظة،",
        companyName: "دار التقنية الحديثة",
        settingsText: "الإعدادات",
        logoutText: "تسجيل الخروج",
        projectsOverview: "نظرة عامة على المشاريع",
        moreIn2024: "زيادة بنسبة 4% في 2024",
        projectCompletion: "معدل إكمال المشاريع في حلب",
        foodProjects: "مشاريع الغذاء",
        healthProjects: "مشاريع الصحة",
        clothingProjects: "مشاريع الملابس والمساعدات السكنية",
        viewAllProjects: "عرض جميع المشاريع",
        projects: "المشاريع",
        projectName: "اسم المشروع",
        type: "النوع",
        budget: "الميزانية",
        status: "الحالة",
        projectOrders: "طلبات المشاريع",
        thisMonth: "هذا الشهر",
        operationalStatuses: "مستلزمات التشغيل",
        interventionPriorities: "أولويات التدخل",
        infrastructureStatuses: "حالات البنية التحتية",
        staffStatuses: "حالات الموظفين",
        consumablesStatuses: "حالات المستهلكات",
        damageLevels: "مستويات الضرر",
        networkStatuses: "حالات الشبكة",
        supplyOperationLevel: "مستويات تشغيل خطوط الإمداد",
        ownershipDocumentationTypes: "أنواع توثيق الملكية",
        damageDescriptions: "أوصاف الضرر",
        ownershipTypes: "أنواع الملكية",
        urbanConditions: "الحالات الحضرية",
        dominantLandUses: "الاستخدام السائد للأرض",
        humanNeedsTypes: "أنواع الاحتياجات الإنسانية",
        neighborhoods: "ادارة وتعريف الاحياء",
        humanitarianInterventionsTypes: "أنواع التدخلات الإنسانية",
        addNew: "إضافة جديد",
        actions: "إجراءات",
      },
      en: {
        dir: "ltr",
        dashboard: "Dashboard",
        configTables: "Configuration Tables",
        maps: "Maps",
        manageUsers: "Manage Users",
        profile: "Profile",
        signIn: "Sign In",
        signUp: "Sign Up",
        families: "Families",
        validBuildings: "Valid Buildings",
        residentialBuildings: "Residential Buildings",
        threatened: "Threatened with Removal",
        constructionStatus: "Construction Status",
        educationStatus: "Education Status",
        healthStatus: "Health Status",
        footerText: "© 2025, All rights reserved,",
        companyName: "Hi-Tech House",
        settingsText: "Settings",
        logoutText: "Logout",
        projectsOverview: "Projects Foods And Health overview",
        moreIn2024: "4% more in 2024",
        projectCompletion: "Project completion rate in Aleppo",
        foodProjects: "Food Projects",
        healthProjects: "Health Projects",
        clothingProjects: "Clothing and housing benefits Projects",
        viewAllProjects: "View all Projects",
        projects: "Projects",
        projectName: "NAME OF PROJECT",
        type: "TYPE",
        budget: "BUDGET",
        status: "STATUS",
        projectOrders: "Projects Orders overview",
        thisMonth: "this month",
        operationalStatuses: "Operating requirements",
        interventionPriorities: "Intervention Priorities",
        infrastructureStatuses: "Infrastructure Statuses",
        staffStatuses: "Staff Statuses",
        consumablesStatuses: "Consumables Statuses",
        damageLevels: "Damage Levels",
        networkStatuses: "Network Statuses",
        supplyOperationLevel: "Supply Operation Levels",
        ownershipDocumentationTypes: "Ownership Documentation Types",
        damageDescriptions: "Damage Descriptions",
        ownershipTypes: "Ownership Types",
        urbanConditions: "Urban Conditions",
        dominantLandUses: "Dominant Land Uses",
        humanNeedsTypes: "Human Needs Types",
        neighborhoods: "Neighborhoods",
        humanitarianInterventionsTypes: "Humanitarian Interventions Types",
        addNew: "Add New",
        actions: "Actions",
      },
    };

    let currentLang = "ar";

    function switchLanguage(lang) {
      // Verify that the language is valid
      if (lang !== "ar" && lang !== "en") {
        console.error("Invalid language:", lang);
        lang = "ar"; // Use Arabic as the default value
      }

      // Update the global current language variable
      currentLang = lang;

      // Get the translations for the selected language
      const t = translations[lang];

      if (!t) {
        console.error("No translations found for the language:", lang);
        return;
      }

      // Save the language preference in localStorage
      try {
        localStorage.setItem("preferredLanguage", lang);
      } catch (error) {
        console.error("Error saving language preference:", error);
      }

      // Set document direction based on language
      document.body.setAttribute("dir", lang === "ar" ? "rtl" : "ltr");

      // Update the position of the sidebar according to the language
      const aside = document.getElementById("sidenav-main");
      if (aside) {
        aside.classList.remove("fixed-end", "fixed-start");
        aside.classList.add(lang === "ar" ? "fixed-end" : "fixed-start");
      }

      // Apply direction to all modals
      document.querySelectorAll(".modal").forEach((modal) => {
        modal.setAttribute("dir", lang === "ar" ? "rtl" : "ltr");
      });

      // Apply text alignment to all form inputs
      document
        .querySelectorAll(".form-control, input, select, textarea")
        .forEach((input) => {
          input.style.textAlign = lang === "ar" ? "right" : "left";
          input.style.direction = lang === "ar" ? "rtl" : "ltr";
        });

      // Apply text alignment to all form labels
      document.querySelectorAll(".form-label, label").forEach((label) => {
        label.style.textAlign = lang === "ar" ? "right" : "left";
        if (lang === "ar") {
          label.style.float = "right";
        } else {
          label.style.float = "left";
        }
      });

      // Apply direction to all dropdown menus
      document
        .querySelectorAll(".dropdown-menu, .menu-dropdown-content")
        .forEach((menu) => {
          menu.style.textAlign = lang === "ar" ? "right" : "left";
          menu.style.direction = lang === "ar" ? "rtl" : "ltr";
        });

      // Update all modal titles and add buttons with translation attributes
      document
        .querySelectorAll(".modal-title[data-ar][data-en]")
        .forEach((title) => {
          title.textContent =
            lang === "ar"
              ? title.getAttribute("data-ar")
              : title.getAttribute("data-en");
        });

      // Update all add buttons with translation attributes
      document
        .querySelectorAll(".add-button[data-ar][data-en]")
        .forEach((button) => {
          button.textContent =
            lang === "ar"
              ? button.getAttribute("data-ar")
              : button.getAttribute("data-en");
        });

      // Update the alignment of the dropdown button container according to the language
      const dropdownContainer = document.getElementById(
        "dropdownButtonContainer"
      );
      const projectsTitleContainer = document.getElementById(
        "projectsTitleContainer"
      );
      const helpButton = document.getElementById("helpButton");

      if (lang === "ar") {
        // For RTL (Arabic)
        if (dropdownContainer) {
          dropdownContainer.classList.remove("text-end");
          dropdownContainer.classList.add("text-start");
        }

        if (projectsTitleContainer) {
          projectsTitleContainer.classList.remove("text-start");
          projectsTitleContainer.classList.add("text-end");
        }

        // Position the help button on the left for Arabic
        if (helpButton) {
          helpButton.style.left = "20px";
          helpButton.style.right = "auto";
        }
      } else {
        // For LTR (English)
        if (dropdownContainer) {
          dropdownContainer.classList.remove("text-start");
          dropdownContainer.classList.add("text-end");
        }

        if (projectsTitleContainer) {
          projectsTitleContainer.classList.remove("text-end");
          projectsTitleContainer.classList.add("text-start");
        }

        // Position the help button on the right for English
        if (helpButton) {
          helpButton.style.right = "20px";
          helpButton.style.left = "auto";
        }
      }

      // Update document direction
      document.documentElement.lang = lang;
      document.documentElement.dir = t.dir;

      // Update aside (sidebar) text
      const navTexts = document.querySelectorAll(".nav-link .nav-link-text");
      if (navTexts[0]) navTexts[0].textContent = t.dashboard;
      if (navTexts[1]) navTexts[1].textContent = t.configTables;
      if (navTexts[2]) navTexts[2].textContent = t.manageUsers;
      if (navTexts[3]) navTexts[3].textContent = t.profile;

      // Update header menu items (settings/logout)
      const settingsText = document.getElementById("settingsText");
      if (settingsText) settingsText.textContent = t.settingsText;
      const logoutText = document.getElementById("logoutText");
      if (logoutText) logoutText.textContent = t.logoutText;

      // Update main cards
      const cardTitles = document.querySelectorAll(".card-title");
      if (cardTitles[0]) cardTitles[0].textContent = t.families;
      if (cardTitles[1]) cardTitles[1].textContent = t.validBuildings;
      if (cardTitles[2]) cardTitles[2].textContent = t.residentialBuildings;
      if (cardTitles[3]) cardTitles[3].textContent = t.threatened;

      // Update chart card titles
      const chartTitles = document.querySelectorAll(
        "h5.card-title.text-center"
      );
      if (chartTitles[0]) chartTitles[0].textContent = t.constructionStatus;
      if (chartTitles[1]) chartTitles[1].textContent = t.educationStatus;
      if (chartTitles[2]) chartTitles[2].textContent = t.healthStatus;

      // Update chart labels and datasets
      if (window.constructionChart) {
        constructionChart.data.labels = t.chartLabels.construction;
        constructionChart.data.datasets[0].label =
          lang === "ar" ? "عدد المنشآت" : "Number of Buildings";
        constructionChart.update();
      }
      if (window.healthChart) {
        healthChart.data.labels = t.chartLabels.health;
        healthChart.data.datasets[0].label =
          lang === "ar" ? "عدد المراكز الصحية" : "Number of Health Centers";
        healthChart.update();
      }
      if (window.educationChart) {
        educationChart.data.labels = t.chartLabels.education;
        educationChart.data.datasets[0].label =
          lang === "ar"
            ? "عدد المنشآت التعليمية"
            : "Number of Educational Facilities";
        educationChart.update();
      }
      if (window.serviceChart) {
        serviceChart.data.labels = t.chartLabels.service;
        serviceChart.update();
      }

      // Update projects section title
      const projectsTitle = document.getElementById("projectsTitle");
      if (projectsTitle) projectsTitle.textContent = t.projects;

      // Update Projects Orders overview section title
      const projectsOrdersTitle = document.getElementById(
        "projectsOrdersTitle"
      );
      if (projectsOrdersTitle)
        projectsOrdersTitle.textContent = t.projectOrders;

      // Update other elements as before...
      const moreIn2024 = document.querySelector(".text-sm .font-weight-bold");
      if (moreIn2024) moreIn2024.textContent = t.moreIn2024;

      const projectCompletion = document.querySelector(".card-header .mb-0");
      if (projectCompletion)
        projectCompletion.textContent = t.projectCompletion;

      // Update project list items
      const projectItems = document.querySelectorAll(
        ".list-group-item .text-sm.font-weight-bold.text-dark"
      );
      if (projectItems[0]) projectItems[0].textContent = t.foodProjects;
      if (projectItems[1]) projectItems[1].textContent = t.healthProjects;
      if (projectItems[2]) projectItems[2].textContent = t.clothingProjects;

      // Update view all projects button
      const viewAllBtn = document.querySelector(".btn-dark.mb-0");
      if (viewAllBtn) viewAllBtn.textContent = t.viewAllProjects;

      // Update projects table headers
      const tableHeaders = document.querySelectorAll("th.text-uppercase");
      if (tableHeaders[0]) tableHeaders[0].textContent = t.projectName;
      if (tableHeaders[1]) tableHeaders[1].textContent = t.type;
      if (tableHeaders[2]) tableHeaders[2].textContent = t.budget;
      if (tableHeaders[3]) tableHeaders[3].textContent = t.status;

      // Update project orders section
      const thisMonthText = document.querySelectorAll(
        ".text-sm .font-weight-bold"
      )[1];
      if (thisMonthText) thisMonthText.textContent = t.thisMonth;

      // Update projects overview and section titles
      const projectsOverviewTitle = document.getElementById(
        "projectsOverviewTitle"
      );
      if (projectsOverviewTitle)
        projectsOverviewTitle.textContent = t.projectsOverview;

      // Update specific modal titles from tables2.html
      const modalTitles = {
        operationalStatusesModalLabel: t.operationalStatuses,
        interventionPrioritiesModalLabel: t.interventionPriorities,
        infrastructureStatusesModalLabel: t.infrastructureStatuses,
        staffStatusesModalLabel: t.staffStatuses,
        consumablesStatusesModalLabel: t.consumablesStatuses,
        damageLevelsModalLabel: t.damageLevels,
        networkStatusesModalLabel: t.networkStatuses,
        supplyOperationLevelModalLabel: t.supplyOperationLevel,
        ownershipDocumentationTypesModalLabel: t.ownershipDocumentationTypes,
        damageDescriptionsModalLabel: t.damageDescriptions,
        ownershipTypesModalLabel: t.ownershipTypes,
        urbanConditionsModalLabel: t.urbanConditions,
        dominantLandUsesModalLabel: t.dominantLandUses,
        humanNeedsTypesModalLabel: t.humanNeedsTypes,
        neighborhoodsModalLabel: t.neighborhoods,
        humanitarianInterventionsTypesModalLabel:
          t.humanitarianInterventionsTypes,
      };

      // Update all modal titles
      Object.keys(modalTitles).forEach((id) => {
        const element = document.getElementById(id);
        if (element) {
          element.textContent = modalTitles[id];
        }
      });

      // Translate the "Add" buttons
      const addButtons = document.querySelectorAll(".btn-add");
      addButtons.forEach((button) => {
        if (button) {
          // Find the text inside the button and update it
          const buttonText = button.textContent.trim();
          if (buttonText.includes("إضافة") || buttonText.includes("Add")) {
            button.textContent = t.addNew;
          }
        }
      });

      // Translate the headers of the tables
      const actionHeaders = document.querySelectorAll("th");
      actionHeaders.forEach((header) => {
        if (
          header.textContent.includes("إجراءات") ||
          header.textContent.includes("Actions")
        ) {
          header.textContent = t.actions;
        }
      });

      // Translate the titles of grid items (grid-items)
      const gridItems = document.querySelectorAll(".grid-item h3");
      gridItems.forEach((item) => {
        // Find the corresponding translation key based on the text
        const modalId = item
          .closest(".grid-item")
          .getAttribute("data-bs-target")
          ?.replace("#", "")
          .replace("Modal", "");
        if (modalId && t[modalId]) {
          item.textContent = t[modalId];
        }
      });
    }

    function toggleLanguage() {
      const btn = document.getElementById("langToggleBtn");
      const newLang = currentLang === "ar" ? "en" : "ar";

      // Update the button text
      btn.textContent = currentLang === "ar" ? "EN" : "AR";

      // Update all tables and modals after language change
      setTimeout(() => {
        // Apply language change to any open modals
        document.querySelectorAll(".modal").forEach((modal) => {
          updateModalLanguage(modal);
        });

        // Update all table headers
        document.querySelectorAll("[data-table]").forEach((modalEl) => {
          const tableName = modalEl.getAttribute("data-table");
          if (tableName) {
            updateTableHeadersAndDir(tableName);
          }
        });
      }, 50);

      // Change the language
      switchLanguage(newLang);
    }

    // Add menu functionality
    function toggleMenu() {
      const menu = document.getElementById("menuDropdown");
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    }

    // Close menu when clicking outside
    document.addEventListener("click", function (e) {
      const menu = document.getElementById("menuDropdown");
      const menuBtn = document.getElementById("menuToggleBtn");

      if (menu && menuBtn) {
        if (!menuBtn.contains(e.target) && !menu.contains(e.target)) {
          menu.style.display = "none";
        }
      }
    });

    // Initial language configuration
    document.addEventListener("DOMContentLoaded", function () {
      // Add debug message to verify that the script is running

      // Try to retrieve the saved language preference
      let savedLanguage;
      try {
        savedLanguage = localStorage.getItem("preferredLanguage");
      } catch (error) {
        console.error("Error retrieving language preference:", error);
        savedLanguage = null;
      }

      // Set the initial language based on the saved preference or use Arabic as default
      const initialLang =
        savedLanguage === "ar" || savedLanguage === "en"
          ? savedLanguage
          : "ar";

      // Configure the language toggle button
      const langToggleBtn = document.getElementById("langToggleBtn");
      if (langToggleBtn) {
        // Set the button text based on the initial language
        langToggleBtn.textContent = initialLang === "ar" ? "AR" : "EN";

        // Ensure there is only one event handler to avoid duplicates
        langToggleBtn.onclick = function () {
          toggleLanguage();
        };
      } else {
        console.error("Language toggle button not found");
      }

      // Apply the initial language
      switchLanguage(initialLang);
    });
  </script>

  <!-- Script to initialize table data -->
  <script>
    // Debug message to verify that the script is loading

    // Function to show notifications
    function showNotification(message, type = "info") {
      // Create the notification element
      const notification = document.createElement("div");
      notification.className = `notification notification-${type}`;
      notification.innerHTML = `
        <div class="notification-content">
          <i class="fas ${type === "success"
          ? "fa-check-circle"
          : type === "error"
            ? "fa-exclamation-circle"
            : "fa-info-circle"
        }"></i>
          <span>${message}</span>
        </div>
        <button class="notification-close">&times;</button>
      `;

      // Styles for the notification
      notification.style.position = "fixed";
      notification.style.top = "20px";
      notification.style.right = "20px";
      notification.style.zIndex = "9999";
      notification.style.backgroundColor =
        type === "success"
          ? "#4CAF50"
          : type === "error"
            ? "#f44336"
            : "#2196F3";
      notification.style.color = "white";
      notification.style.padding = "15px";
      notification.style.borderRadius = "5px";
      notification.style.boxShadow = "0 4px 8px rgba(0,0,0,0.2)";
      notification.style.minWidth = "300px";
      notification.style.display = "flex";
      notification.style.justifyContent = "space-between";
      notification.style.alignItems = "center";
      notification.style.animation = "fadeIn 0.3s ease-in-out";

      // Styles for the notification content
      const content = notification.querySelector(".notification-content");
      content.style.display = "flex";
      content.style.alignItems = "center";

      // Styles for the icon
      const icon = notification.querySelector("i");
      icon.style.marginRight = "10px";
      icon.style.fontSize = "1.5rem";

      // Styles for the close button
      const closeBtn = notification.querySelector(".notification-close");
      closeBtn.style.background = "none";
      closeBtn.style.border = "none";
      closeBtn.style.color = "white";
      closeBtn.style.fontSize = "1.5rem";
      closeBtn.style.cursor = "pointer";
      closeBtn.style.marginLeft = "10px";

      // Add the notification to the document
      document.body.appendChild(notification);

      // Close the notification when clicking the close button
      closeBtn.addEventListener("click", () => {
        notification.style.animation = "fadeOut 0.3s ease-in-out";
        setTimeout(() => {
          notification.remove();
        }, 300);
      });

      // Close the notification automatically after 5 seconds
      setTimeout(() => {
        if (document.body.contains(notification)) {
          notification.style.animation = "fadeOut 0.3s ease-in-out";
          setTimeout(() => {
            if (document.body.contains(notification)) {
              notification.remove();
            }
          }, 300);
        }
      }, 5000);
    }

    // Add animation styles
    const styleElement = document.createElement("style");
    styleElement.textContent = `
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      @keyframes fadeOut {
        from { opacity: 1; transform: translateY(0); }
        to { opacity: 0; transform: translateY(-20px); }
      }
    `;
    document.head.appendChild(styleElement);

    // Default data for tables
    const operationalStatusesData = [
      { id: 1, statusName: "Operational", statusNameArabic: "تشغيلي" },
      {
        id: 2,
        statusName: "Non-Operational",
        statusNameArabic: "غير تشغيلي",
      },
      {
        id: 3,
        statusName: "Partially Operational",
        statusNameArabic: "تشغيلي جزئياً",
      },
    ];

    const interventionPrioritiesData = [
      { id: 1, priorityName: "High", priorityNameArabic: "عالي" },
      { id: 2, priorityName: "Medium", priorityNameArabic: "متوسط" },
      { id: 3, priorityName: "Low", priorityNameArabic: "منخفض" },
    ];

    const infrastructureStatusesData = [
      { id: 1, statusName: "Good", statusNameArabic: "جيد" },
      { id: 2, statusName: "Damaged", statusNameArabic: "تالف" },
      { id: 3, statusName: "Under Repair", statusNameArabic: "قيد الإصلاح" },
    ];

    const staffStatusesData = [
      { id: 1, statusName: "Active", statusNameArabic: "نشط" },
      { id: 2, statusName: "Inactive", statusNameArabic: "غير نشط" },
      { id: 3, statusName: "On Leave", statusNameArabic: "في إجازة" },
    ];

    const consumablesStatusesData = [
      { id: 1, statusName: "Available", statusNameArabic: "متاح" },
      { id: 2, statusName: "Unavailable", statusNameArabic: "غير متاح" },
      { id: 3, statusName: "Low Stock", statusNameArabic: "مخزون منخفض" },
    ];

    const damageLevelsData = [
      { id: 1, levelName: "Minor", levelNameArabic: "طفيف" },
      { id: 2, levelName: "Moderate", levelNameArabic: "متوسط" },
      { id: 3, levelName: "Severe", levelNameArabic: "شديد" },
    ];

    const networkStatusesData = [
      { id: 1, statusName: "Online", statusNameArabic: "متصل" },
      { id: 2, statusName: "Offline", statusNameArabic: "غير متصل" },
      {
        id: 3,
        statusName: "Limited Connectivity",
        statusNameArabic: "اتصال محدود",
      },
    ];

    const supplyOperationLevelData = [
      { id: 1, levelName: "Full", levelNameArabic: "كامل" },
      { id: 2, levelName: "Partial", levelNameArabic: "جزئي" },
      { id: 3, levelName: "Minimal", levelNameArabic: "الحد الأدنى" },
    ];

    const ownershipDocumentationTypesData = [
      { id: 1, typeName: "Deed", typeNameArabic: "سند الملكية" },
      { id: 2, typeName: "Lease", typeNameArabic: "عقد إيجار" },
      { id: 3, typeName: "Certificate", typeNameArabic: "شهادة" },
    ];

    const damageDescriptionsData = [
      {
        id: 1,
        descriptionType: "Structural",
        descriptionTypeArabic: "هيكلية",
      },
      {
        id: 2,
        descriptionType: "Cosmetic",
        descriptionTypeArabic: "تجميلية",
      },
      {
        id: 3,
        descriptionType: "Functional",
        descriptionTypeArabic: "وظيفية",
      },
    ];

    const ownershipTypesData = [
      { id: 1, typeName: "Private", typeNameArabic: "خاص" },
      { id: 2, typeName: "Public", typeNameArabic: "عام" },
      { id: 3, typeName: "Mixed", typeNameArabic: "مختلط" },
    ];

    const urbanConditionsData = [
      { id: 1, conditionName: "Urbanized", conditionNameArabic: "متمدن" },
      { id: 2, conditionName: "Rural", conditionNameArabic: "ريفي" },
      { id: 3, conditionName: "Suburban", conditionNameArabic: "ضواحي" },
    ];

    const dominantLandUsesData = [
      { id: 1, landUseName: "Residential", landUseNameArabic: "سكني" },
      { id: 2, landUseName: "Commercial", landUseNameArabic: "تجاري" },
      { id: 3, landUseName: "Industrial", landUseNameArabic: "صناعي" },
    ];

    const humanNeedsTypesData = [
      { id: 1, needType: "Food", needTypeArabic: "غذاء" },
      { id: 2, needType: "Water", needTypeArabic: "ماء" },
      { id: 3, needType: "Shelter", needTypeArabic: "مأوى" },
    ];

    const neighborhoodsData = [
      {
        id: 1,
        name: "Downtown",
        nameArabic: "وسط المدينة",
        code: "DT001",
        cityId: 1,
      },
      {
        id: 2,
        name: "Uptown",
        nameArabic: "الأحياء العليا",
        code: "UT002",
        cityId: 2,
      },
      {
        id: 3,
        name: "Westside",
        nameArabic: "الجانب الغربي",
        code: "WS003",
        cityId: 1,
      },
    ];

    const humanitarianInterventionsTypesData = [
      { id: 1, interveningParty: "NGO", distributionDate: "2023-10-01" },
      {
        id: 2,
        interveningParty: "Government",
        distributionDate: "2023-10-05",
      },
      {
        id: 3,
        interveningParty: "International Organization",
        distributionDate: "2023-10-10",
      },
    ];

    // Function to display data in tables
    function displayData(tableName) {
      const tableBodyId = `${tableName}TableBody`;
      const tableBody = document.getElementById(tableBodyId);
      if (!tableBody) {
        console.error(`Element with ID '${tableBodyId}' not found!`);
        return;
      }

      let data = [];
      switch (tableName) {
        case "operationalStatuses":
          data = operationalStatusesData;
          break;
        case "interventionPriorities":
          data = interventionPrioritiesData;
          break;
        case "infrastructureStatuses":
          data = infrastructureStatusesData;
          break;
        case "staffStatuses":
          data = staffStatusesData;
          break;
        case "consumablesStatuses":
          data = consumablesStatusesData;
          break;
        case "damageLevels":
          data = damageLevelsData;
          break;
        case "networkStatuses":
          data = networkStatusesData;
          break;
        case "supplyOperationLevel":
          data = supplyOperationLevelData;
          break;
        case "ownershipDocumentationTypes":
          data = ownershipDocumentationTypesData;
          break;
        case "damageDescriptions":
          data = damageDescriptionsData;
          break;
        case "ownershipTypes":
          data = ownershipTypesData;
          break;
        case "urbanConditions":
          data = urbanConditionsData;
          break;
        case "dominantLandUses":
          data = dominantLandUsesData;
          break;
        case "humanNeedsTypes":
          data = humanNeedsTypesData;
          break;
        case "neighborhoods":
          data = neighborhoodsData;
          break;
        case "humanitarianInterventionsTypes":
          data = humanitarianInterventionsTypesData;
          break;
        default:
          console.error(`Unknown table name: ${tableName}`);
          return;
      }

      if (data.length === 0) {
        console.error(`No data available for table: ${tableName}`);
        return;
      }

      tableBody.innerHTML = "";
      data.forEach((item, index) => {
        const row = `
          <tr>
            <td>${index + 1}</td>
            <td>${item.id}</td>
            <td>${item.statusName ||
          item.priorityName ||
          item.levelName ||
          item.typeName ||
          item.conditionName ||
          item.landUseName ||
          item.needType ||
          item.name ||
          item.interveningParty ||
          item.descriptionType
          }</td>
            <td>${item.statusNameArabic ||
          item.priorityNameArabic ||
          item.levelNameArabic ||
          item.typeNameArabic ||
          item.conditionNameArabic ||
          item.landUseNameArabic ||
          item.needTypeArabic ||
          item.nameArabic ||
          item.descriptionTypeArabic ||
          ""
          }</td>
            <td>
              <div class="btn-group">
                <button class="btn btn-edit square-action-btn" onclick="editRow('${tableName}', ${index})" title="${currentLang === "ar" ? "تعديل" : "Edit"
          }">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn btn-danger square-action-btn" onclick="deleteRow('${tableName}', ${index})" title="${currentLang === "ar" ? "حذف" : "Delete"
          }">
                  <i class="fas fa-trash-alt"></i>
                </button>
              </div>
            </td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
    }

    // Function to add a new row
    function addRow(tableName) {
      let newItem = {};
      switch (tableName) {
        case "operationalStatuses":
          newItem = {
            id: operationalStatusesData.length + 1,
            statusName: "New Status",
            statusNameArabic: "حالة جديدة",
          };
          operationalStatusesData.push(newItem);
          break;
        case "interventionPriorities":
          newItem = {
            id: interventionPrioritiesData.length + 1,
            priorityName: "New Priority",
            priorityNameArabic: "أولوية جديدة",
          };
          interventionPrioritiesData.push(newItem);
          break;
        case "infrastructureStatuses":
          newItem = {
            id: infrastructureStatusesData.length + 1,
            statusName: "New Status",
            statusNameArabic: "حالة جديدة",
          };
          infrastructureStatusesData.push(newItem);
          break;
        case "staffStatuses":
          newItem = {
            id: staffStatusesData.length + 1,
            statusName: "New Status",
            statusNameArabic: "حالة جديدة",
          };
          staffStatusesData.push(newItem);
          break;
        case "consumablesStatuses":
          newItem = {
            id: consumablesStatusesData.length + 1,
            statusName: "New Status",
            statusNameArabic: "حالة جديدة",
          };
          consumablesStatusesData.push(newItem);
          break;
        case "damageLevels":
          newItem = {
            id: damageLevelsData.length + 1,
            levelName: "New Level",
            levelNameArabic: "مستوى جديد",
          };
          damageLevelsData.push(newItem);
          break;
        case "networkStatuses":
          newItem = {
            id: networkStatusesData.length + 1,
            statusName: "New Status",
            statusNameArabic: "حالة جديدة",
          };
          networkStatusesData.push(newItem);
          break;
        case "supplyOperationLevel":
          newItem = {
            id: supplyOperationLevelData.length + 1,
            levelName: "New Level",
            levelNameArabic: "مستوى جديد",
          };
          supplyOperationLevelData.push(newItem);
          break;
        case "ownershipDocumentationTypes":
          newItem = {
            id: ownershipDocumentationTypesData.length + 1,
            typeName: "New Type",
            typeNameArabic: "نوع جديد",
          };
          ownershipDocumentationTypesData.push(newItem);
          break;
        case "damageDescriptions":
          newItem = {
            id: damageDescriptionsData.length + 1,
            descriptionType: "New Description",
            descriptionTypeArabic: "وصف جديد",
          };
          damageDescriptionsData.push(newItem);
          break;
        case "ownershipTypes":
          newItem = {
            id: ownershipTypesData.length + 1,
            typeName: "New Type",
            typeNameArabic: "نوع جديد",
          };
          ownershipTypesData.push(newItem);
          break;
        case "urbanConditions":
          newItem = {
            id: urbanConditionsData.length + 1,
            conditionName: "New Condition",
            conditionNameArabic: "حالة جديدة",
          };
          urbanConditionsData.push(newItem);
          break;
        case "dominantLandUses":
          newItem = {
            id: dominantLandUsesData.length + 1,
            landUseName: "New Use",
            landUseNameArabic: "استخدام جديد",
          };
          dominantLandUsesData.push(newItem);
          break;
        case "humanNeedsTypes":
          newItem = {
            id: humanNeedsTypesData.length + 1,
            needType: "New Need",
            needTypeArabic: "احتياج جديد",
          };
          humanNeedsTypesData.push(newItem);
          break;
        case "neighborhoods":
          newItem = {
            id: neighborhoodsData.length + 1,
            name: "New Neighborhood",
            nameArabic: "حي جديد",
            code: "NEW001",
            cityId: 1,
          };
          neighborhoodsData.push(newItem);
          break;
        case "humanitarianInterventionsTypes":
          newItem = {
            id: humanitarianInterventionsTypesData.length + 1,
            interveningParty: "New Organization",
            distributionDate: new Date().toISOString().split("T")[0],
          };
          humanitarianInterventionsTypesData.push(newItem);
          break;
        default:
          console.error(`Unknown table name: ${tableName}`);
          return;
      }
      displayData(tableName);

      // Show success message
      showNotification("تمت إضافة عنصر جديد بنجاح", "success");
    }

    // أضف هذا الكائن أعلى كود الجافاسكريبت
    const editModalTranslations = {
      ar: {
        title: "تعديل البيانات",
        cancel: "إلغاء",
        save: "حفظ التغييرات",
        id: "معرف:",
        nameEn: "الاسم بالإنجليزية:",
        nameAr: "الاسم بالعربية:",
        code: "الرمز:",
        cityId: "معرف المدينة:",
        distributionDate: "تاريخ التوزيع:",
        interveningParty: "الجهة المتدخلة:",
      },
      en: {
        title: "Edit Data",
        cancel: "Cancel",
        save: "Save Changes",
        id: "ID:",
        nameEn: "Name in English:",
        nameAr: "Name in Arabic:",
        code: "Code:",
        cityId: "City ID:",
        distributionDate: "Distribution Date:",
        interveningParty: "Intervening Party:",
      },
    };

    // استبدل دالة editRow بالكامل بهذا الكود:
    function editRow(tableName, index) {
      let data = [];
      let item = null;
      switch (tableName) {
        case "operationalStatuses":
          data = operationalStatusesData;
          break;
        case "interventionPriorities":
          data = interventionPrioritiesData;
          break;
        case "infrastructureStatuses":
          data = infrastructureStatusesData;
          break;
        case "staffStatuses":
          data = staffStatusesData;
          break;
        case "consumablesStatuses":
          data = consumablesStatusesData;
          break;
        case "damageLevels":
          data = damageLevelsData;
          break;
        case "networkStatuses":
          data = networkStatusesData;
          break;
        case "supplyOperationLevel":
          data = supplyOperationLevelData;
          break;
        case "ownershipDocumentationTypes":
          data = ownershipDocumentationTypesData;
          break;
        case "damageDescriptions":
          data = damageDescriptionsData;
          break;
        case "ownershipTypes":
          data = ownershipTypesData;
          break;
        case "urbanConditions":
          data = urbanConditionsData;
          break;
        case "dominantLandUses":
          data = dominantLandUsesData;
          break;
        case "humanNeedsTypes":
          data = humanNeedsTypesData;
          break;
        case "neighborhoods":
          data = neighborhoodsData;
          break;
        case "humanitarianInterventionsTypes":
          data = humanitarianInterventionsTypesData;
          break;
        default:
          console.error(`Unknown table name: ${tableName}`);
          return;
      }
      if (index >= 0 && index < data.length) {
        item = data[index];
      } else {
        console.error(`Invalid index: ${index} for table: ${tableName}`);
        return;
      }

      // Create a modal form to edit the data
      let formHTML = `
        <div class="edit-form">
          <div class="mb-3">
            <label for="editId" class="form-label">معرف / ID:</label>
            <input type="number" class="form-control" id="editId" value="${item.id}" readonly>
          </div>
      `;

      // Add specific fields based on the table type
      if (item.statusName !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية / Name in English:</label>
            <input type="text" class="form-control" id="editName" value="${item.statusName
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية / Name in Arabic:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.statusNameArabic || ""
          }">
          </div>
        `;
      } else if (item.priorityName !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية / Name in English:</label>
            <input type="text" class="form-control" id="editName" value="${item.priorityName
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية / Name in Arabic:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.priorityNameArabic || ""
          }">
          </div>
        `;
      } else if (item.levelName !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية:</label>
            <input type="text" class="form-control" id="editName" value="${item.levelName
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.levelNameArabic || ""
          }">
          </div>
        `;
      } else if (item.typeName !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية:</label>
            <input type="text" class="form-control" id="editName" value="${item.typeName
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.typeNameArabic || ""
          }">
          </div>
        `;
      } else if (item.conditionName !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية:</label>
            <input type="text" class="form-control" id="editName" value="${item.conditionName
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.conditionNameArabic || ""
          }">
          </div>
        `;
      } else if (item.landUseName !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية / Name in English:</label>
            <input type="text" class="form-control" id="editName" value="${item.landUseName
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية / Name in Arabic:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.landUseNameArabic || ""
          }">
          </div>
        `;
      } else if (item.needType !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية / Name in English:</label>
            <input type="text" class="form-control" id="editName" value="${item.needType
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية / Name in Arabic:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.needTypeArabic || ""
          }">
          </div>
        `;
      } else if (item.name !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية / Name in English:</label>
            <input type="text" class="form-control" id="editName" value="${item.name
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية / Name in Arabic:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.nameArabic || ""
          }">
          </div>
          <div class="mb-3">
            <label for="editCode" class="form-label">الرمز / Code:</label>
            <input type="text" class="form-control" id="editCode" value="${item.code || ""
          }">
          </div>
          <div class="mb-3">
            <label for="editCityId" class="form-label">معرف المدينة / City ID:</label>
            <input type="number" class="form-control" id="editCityId" value="${item.cityId || ""
          }">
          </div>
        `;
      } else if (item.interveningParty !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الجهة المتدخلة / Intervening Party:</label>
            <input type="text" class="form-control" id="editName" value="${item.interveningParty
          }">
          </div>
          <div class="mb-3">
            <label for="editDistributionDate" class="form-label">تاريخ التوزيع / Distribution Date:</label>
            <input type="date" class="form-control" id="editDistributionDate" value="${item.distributionDate || ""
          }">
          </div>
        `;
      } else if (item.descriptionType !== undefined) {
        formHTML += `
          <div class="mb-3">
            <label for="editName" class="form-label">الاسم بالإنجليزية / Name in English:</label>
            <input type="text" class="form-control" id="editName" value="${item.descriptionType
          }">
          </div>
          <div class="mb-3">
            <label for="editNameArabic" class="form-label">الاسم بالعربية / Name in Arabic:</label>
            <input type="text" class="form-control" id="editNameArabic" value="${item.descriptionTypeArabic || ""
          }">
          </div>
        `;
      }

      formHTML += `
        </div>
      `;

      // Create a modal to display the form
      const editModal = document.createElement("div");
      editModal.className = "modal fade";
      editModal.id = "editItemModal";
      editModal.setAttribute("tabindex", "-1");
      editModal.setAttribute("aria-labelledby", "editItemModalLabel");
      editModal.setAttribute("aria-hidden", "true");

      // Apply more compact styles to the form
      const compactFormHTML = formHTML
        .replace(/mb-3/g, "mb-2")
        .replace(/form-control/g, "form-control form-control-sm");

      editModal.innerHTML = `
        <div class="modal-dialog edit-modal">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="editItemModalLabel">تعديل البيانات / Edit Data</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              ${compactFormHTML}
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء / Cancel</button>
              <button type="button" class="btn btn-primary" id="saveEditBtn">حفظ التغييرات / Save Changes</button>
            </div>
          </div>
        </div>
      `;

      // Add the modal to the document
      document.body.appendChild(editModal);

      // Show the modal
      const modal = new bootstrap.Modal(
        document.getElementById("editItemModal")
      );
      modal.show();

      // Handle the save changes event
      document
        .getElementById("saveEditBtn")
        .addEventListener("click", function () {
          // Get the form values
          const editedItem = { ...item }; // Clone the original object

          // Update the values based on the table type
          if (item.statusName !== undefined) {
            editedItem.statusName = document.getElementById("editName").value;
            editedItem.statusNameArabic =
              document.getElementById("editNameArabic").value;
          } else if (item.priorityName !== undefined) {
            editedItem.priorityName =
              document.getElementById("editName").value;
            editedItem.priorityNameArabic =
              document.getElementById("editNameArabic").value;
          } else if (item.levelName !== undefined) {
            editedItem.levelName = document.getElementById("editName").value;
            editedItem.levelNameArabic =
              document.getElementById("editNameArabic").value;
          } else if (item.typeName !== undefined) {
            editedItem.typeName = document.getElementById("editName").value;
            editedItem.typeNameArabic =
              document.getElementById("editNameArabic").value;
          } else if (item.conditionName !== undefined) {
            editedItem.conditionName =
              document.getElementById("editName").value;
            editedItem.conditionNameArabic =
              document.getElementById("editNameArabic").value;
          } else if (item.landUseName !== undefined) {
            editedItem.landUseName =
              document.getElementById("editName").value;
            editedItem.landUseNameArabic =
              document.getElementById("editNameArabic").value;
          } else if (item.needType !== undefined) {
            editedItem.needType = document.getElementById("editName").value;
            editedItem.needTypeArabic =
              document.getElementById("editNameArabic").value;
          } else if (item.name !== undefined) {
            editedItem.name = document.getElementById("editName").value;
            editedItem.nameArabic =
              document.getElementById("editNameArabic").value;
            editedItem.code = document.getElementById("editCode").value;
            editedItem.cityId =
              parseInt(document.getElementById("editCityId").value) || 0;
          } else if (item.interveningParty !== undefined) {
            editedItem.interveningParty =
              document.getElementById("editName").value;
            editedItem.distributionDate = document.getElementById(
              "editDistributionDate"
            ).value;
          } else if (item.descriptionType !== undefined) {
            editedItem.descriptionType =
              document.getElementById("editName").value;
            editedItem.descriptionTypeArabic =
              document.getElementById("editNameArabic").value;
          }

          // Update the element in the array
          data[index] = editedItem;

          // Update the table
          displayData(tableName);

          // Close the modal
          modal.hide();

          // Display success message
          showNotification("تم تحديث البيانات بنجاح", "success");

          // Remove the modal from the DOM after closing it
          document
            .getElementById("editItemModal")
            .addEventListener("hidden.bs.modal", function () {
              document.getElementById("editItemModal").remove();
            });
        });

      // Remove the modal from the DOM when it closes
      document
        .getElementById("editItemModal")
        .addEventListener("hidden.bs.modal", function () {
          document.getElementById("editItemModal").remove();
        });
    }

    // Function to delete a row
    function deleteRow(tableName, index) {
      // if (confirm(`هل أنت متأكد من حذف الصف ${index + 1} من الجدول ${tableName}؟\nAre you sure you want to delete row ${index + 1} from table ${tableName}?`)) {
      if (
        confirm(
          `هل أنت متأكد من حذف الصف ${index + 1} من الجدول ${tableName}؟`
        )
      ) {
        let data = [];
        switch (tableName) {
          case "operationalStatuses":
            data = operationalStatusesData;
            break;
          case "interventionPriorities":
            data = interventionPrioritiesData;
            break;
          case "infrastructureStatuses":
            data = infrastructureStatusesData;
            break;
          case "staffStatuses":
            data = staffStatusesData;
            break;
          case "consumablesStatuses":
            data = consumablesStatusesData;
            break;
          case "damageLevels":
            data = damageLevelsData;
            break;
          case "networkStatuses":
            data = networkStatusesData;
            break;
          case "supplyOperationLevel":
            data = supplyOperationLevelData;
            break;
          case "ownershipDocumentationTypes":
            data = ownershipDocumentationTypesData;
            break;
          case "damageDescriptions":
            data = damageDescriptionsData;
            break;
          case "ownershipTypes":
            data = ownershipTypesData;
            break;
          case "urbanConditions":
            data = urbanConditionsData;
            break;
          case "dominantLandUses":
            data = dominantLandUsesData;
            break;
          case "humanNeedsTypes":
            data = humanNeedsTypesData;
            break;
          case "neighborhoods":
            data = neighborhoodsData;
            break;
          case "humanitarianInterventionsTypes":
            data = humanitarianInterventionsTypesData;
            break;
          default:
            console.error(`Unknown table name: ${tableName}`);
            return;
        }
        data.splice(index, 1);
        displayData(tableName);

        // Show success message
        showNotification("تم حذف العنصر بنجاح", "success");
      }
    }

    // Initialize modals and tables
    document.addEventListener("DOMContentLoaded", () => {
      // Initialize modals when they open
      document.querySelectorAll(".modal").forEach((modal) => {
        // Load data immediately for all modals
        const tableName = modal.getAttribute("data-table");
        if (tableName) {
          displayData(tableName);
        }

        // Configure event for when the modal opens
        modal.addEventListener("show.bs.modal", function (event) {
          const modalTableName = this.getAttribute("data-table");
          if (modalTableName) {
            displayData(modalTableName);
          }
        });
      });
    });
  </script>

  <!-- Add table headers translation keys for each table -->
  <script>
    const tableHeadersTranslations = {
      operationalStatuses: [
        { ar: "#", en: "#" },
        { ar: "معرف الحالة التشغيلية", en: "Operational Status ID" },
        { ar: "اسم الحالة التشغيلية", en: "Operational Status Name" },
        {
          ar: "اسم الحالة التشغيلية بالعربية",
          en: "Operational Status Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      interventionPriorities: [
        { ar: "#", en: "#" },
        { ar: "معرف أولوية التدخل", en: "Priority ID" },
        { ar: "اسم أولوية التدخل", en: "Priority Name" },
        {
          ar: "اسم أولوية التدخل باللغة العربية",
          en: "Priority Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      infrastructureStatuses: [
        { ar: "#", en: "#" },
        { ar: "معرف حالة البنية التحتية", en: "Infrastructure Status ID" },
        { ar: "اسم حالة البنية التحتية", en: "Infrastructure Status Name" },
        {
          ar: "اسم حالة البنية التحتية باللغة العربية",
          en: "Infrastructure Status Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      staffStatuses: [
        { ar: "#", en: "#" },
        { ar: "معرف حالة الموظفين", en: "Staff Status ID" },
        { ar: "اسم حالة الموظفين", en: "Staff Status Name" },
        {
          ar: "اسم حالة الموظفين باللغة العربية",
          en: "Staff Status Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      consumablesStatuses: [
        { ar: "#", en: "#" },
        { ar: "معرف حالة المستهلكات", en: "Consumable Status ID" },
        { ar: "اسم حالة المستهلكات", en: "Consumable Status Name" },
        {
          ar: "اسم حالة المستهلكات باللغة العربية",
          en: "Consumable Status Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      damageLevels: [
        { ar: "#", en: "#" },
        { ar: "معرف مستوى الضرر", en: "Damage Level ID" },
        { ar: "اسم مستوى الضرر", en: "Damage Level Name" },
        {
          ar: "اسم مستوى الضرر باللغة العربية",
          en: "Damage Level Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      networkStatuses: [
        { ar: "#", en: "#" },
        { ar: "معرف حالة الشبكة", en: "Network Status ID" },
        { ar: "اسم حالة الشبكة", en: "Network Status Name" },
        {
          ar: "اسم حالة الشبكة باللغة العربية",
          en: "Network Status Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      supplyOperationLevel: [
        { ar: "#", en: "#" },
        {
          ar: "معرف مستوى تشغيل خطوط الإمداد",
          en: "Supply Operation Level ID",
        },
        {
          ar: "اسم مستوى تشغيل خطوط الإمداد",
          en: "Supply Operation Level Name",
        },
        {
          ar: "اسم مستوى تشغيل خطوط الإمداد باللغة العربية",
          en: "Supply Operation Level Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      ownershipDocumentationTypes: [
        { ar: "#", en: "#" },
        {
          ar: "معرف نوع توثيق الملكية",
          en: "Ownership Documentation Type ID",
        },
        {
          ar: "اسم نوع توثيق الملكية",
          en: "Ownership Documentation Type Name",
        },
        {
          ar: "اسم نوع توثيق الملكية باللغة العربية",
          en: "Ownership Documentation Type Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      damageDescriptions: [
        { ar: "#", en: "#" },
        { ar: "معرف وصف الضرر", en: "Damage Description ID" },
        { ar: "اسم وصف الضرر", en: "Damage Description Name" },
        {
          ar: "اسم وصف الضرر باللغة العربية",
          en: "Damage Description Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      ownershipTypes: [
        { ar: "#", en: "#" },
        { ar: "معرف نوع الملكية", en: "Ownership Type ID" },
        { ar: "اسم نوع الملكية", en: "Ownership Type Name" },
        {
          ar: "اسم نوع الملكية باللغة العربية",
          en: "Ownership Type Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      urbanConditions: [
        { ar: "#", en: "#" },
        { ar: "معرف الحالة الحضرية", en: "Urban Condition ID" },
        { ar: "اسم الحالة الحضرية", en: "Urban Condition Name" },
        {
          ar: "اسم الحالة الحضرية باللغة العربية",
          en: "Urban Condition Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      dominantLandUses: [
        { ar: "#", en: "#" },
        { ar: "معرف الاستخدام السائد للأرض", en: "Dominant Land Use ID" },
        { ar: "الاستخدام السائد للأرض", en: "Dominant Land Use" },
        {
          ar: "الاستخدام السائد للأرض باللغة العربية",
          en: "Dominant Land Use (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      humanNeedsTypes: [
        { ar: "#", en: "#" },
        { ar: "معرف نوع الاحتياجات الإنسانية", en: "Human Need Type ID" },
        { ar: "اسم نوع الاحتياجات الإنسانية", en: "Human Need Type Name" },
        {
          ar: "اسم نوع الاحتياجات الإنسانية باللغة العربية",
          en: "Human Need Type Name (Arabic)",
        },
        { ar: "إجراءات", en: "Actions" },
      ],
      neighborhoods: [
        { ar: "#", en: "#" },
        { ar: "معرف الحي", en: "Neighborhood ID" },
        { ar: "اسم الحي", en: "Neighborhood Name" },
        { ar: "اسم الحي باللغة العربية", en: "Neighborhood Name (Arabic)" },
        { ar: "رمز الحي", en: "Neighborhood Code" },
        { ar: "معرف المدينة", en: "City ID" },
        { ar: "إجراءات", en: "Actions" },
      ],
      humanitarianInterventionsTypes: [
        { ar: "#", en: "#" },
        {
          ar: "معرف نوع التدخل الإنساني",
          en: "Humanitarian Intervention Type ID",
        },
        {
          ar: "اسم نوع التدخل الإنساني",
          en: "Humanitarian Intervention Type Name",
        },
        { ar: "تاريخ التوزيع", en: "Distribution Date" },
        { ar: "إجراءات", en: "Actions" },
      ],
    };

    // Helper: get current direction
    function getCurrentDir() {
      return currentLang === "ar" ? "rtl" : "ltr";
    }

    // Update table headers and direction
    function updateTableHeadersAndDir(tableName) {
      const headers = tableHeadersTranslations[tableName];
      if (!headers) return;
      const modal = document.querySelector(`[data-table="${tableName}"]`);
      if (!modal) return;
      const table = modal.querySelector(".table");
      if (!table) return;
      // Set direction
      table.setAttribute("dir", getCurrentDir());
      // Update headers
      const ths = table.querySelectorAll("thead th");
      headers.forEach((header, idx) => {
        if (ths[idx])
          ths[idx].textContent = header[currentLang] || header["ar"];
      });
    }

    document.updateTableHeaders = updateTableHeadersAndDir;

    // Function to update any modal's language and direction
    function updateModalLanguage(modal) {
      if (!modal) return;

      // Set the direction attribute
      modal.setAttribute("dir", getCurrentDir());

      // Set text alignment for modal content
      const modalContent = modal.querySelector(".modal-content");
      if (modalContent) {
        modalContent.style.textAlign =
          currentLang === "ar" ? "right" : "left";
      }

      // Update modal footer button order
      const modalFooter = modal.querySelector(".modal-footer");
      if (modalFooter) {
        modalFooter.style.flexDirection =
          currentLang === "ar" ? "row-reverse" : "row";
      }

      // Update form controls within the modal
      modal
        .querySelectorAll(".form-control, input, select, textarea")
        .forEach((input) => {
          input.style.textAlign = currentLang === "ar" ? "right" : "left";
          input.style.direction = currentLang === "ar" ? "rtl" : "ltr";
        });

      // Update labels within the modal
      modal.querySelectorAll(".form-label, label").forEach((label) => {
        label.style.textAlign = currentLang === "ar" ? "right" : "left";
        label.style.float = currentLang === "ar" ? "right" : "left";
        label.style.width = "100%";
      });
    }

    // Update edit modal direction and labels
    function updateEditModalLang() {
      // Update all modals, not just editItemModal
      document.querySelectorAll(".modal").forEach((modal) => {
        updateModalLanguage(modal);
      });

      // Handle the edit modal specifically
      const editModal = document.getElementById("editItemModal");
      if (editModal) {
        // Update modal title and buttons
        const title = editModal.querySelector(".modal-title");
        if (title)
          title.textContent =
            currentLang === "ar" ? "تعديل البيانات" : "Edit Data";

        const cancelBtn = editModal.querySelector(".btn-secondary");
        if (cancelBtn)
          cancelBtn.textContent = currentLang === "ar" ? "إلغاء" : "Cancel";

        const saveBtn = editModal.querySelector("#saveEditBtn");
        if (saveBtn)
          saveBtn.textContent =
            currentLang === "ar" ? "حفظ التغييرات" : "Save Changes";

        // Update all form controls to match language direction
        editModal.querySelectorAll(".form-control").forEach((input) => {
          input.style.textAlign = currentLang === "ar" ? "right" : "left";
          input.style.direction = currentLang === "ar" ? "rtl" : "ltr";
        });

        // Update labels with proper language
        editModal.querySelectorAll("label[for]").forEach((label) => {
          if (label.htmlFor === "editId")
            label.textContent = currentLang === "ar" ? "معرف:" : "ID:";
          if (
            label.htmlFor === "editName" &&
            !label.textContent.includes("الجهة")
          )
            label.textContent =
              currentLang === "ar"
                ? "الاسم بالإنجليزية:"
                : "Name in English:";
          if (label.htmlFor === "editNameArabic")
            label.textContent =
              currentLang === "ar" ? "الاسم بالعربية:" : "Name in Arabic:";
          if (label.htmlFor === "editCode")
            label.textContent = currentLang === "ar" ? "الرمز:" : "Code:";
          if (label.htmlFor === "editCityId")
            label.textContent =
              currentLang === "ar" ? "معرف المدينة:" : "City ID:";
          if (label.htmlFor === "editDistributionDate")
            label.textContent =
              currentLang === "ar" ? "تاريخ التوزيع:" : "Distribution Date:";
          if (
            label.htmlFor === "editName" &&
            label.textContent.includes("الجهة")
          )
            label.textContent =
              currentLang === "ar" ? "الجهة المتدخلة:" : "Intervening Party:";

          // Set the label text alignment and direction
          label.style.textAlign = currentLang === "ar" ? "right" : "left";
          label.style.float = currentLang === "ar" ? "right" : "left";
          label.style.width = "100%";
        });
      }
    }

    // Patch editRow to set modal direction and labels
    const originalEditRow = editRow;
    editRow = function (tableName, index) {
      originalEditRow(tableName, index);
      setTimeout(updateEditModalLang, 10);
    };

    // Display data in the selected language and set direction
    const originalDisplayData = displayData;
    displayData = function (tableName) {
      // Use the correct language for cell values
      const dataMap = {
        operationalStatuses: operationalStatusesData,
        interventionPriorities: interventionPrioritiesData,
        infrastructureStatuses: infrastructureStatusesData,
        staffStatuses: staffStatusesData,
        consumablesStatuses: consumablesStatusesData,
        damageLevels: damageLevelsData,
        networkStatuses: networkStatusesData,
        supplyOperationLevel: supplyOperationLevelData,
        ownershipDocumentationTypes: ownershipDocumentationTypesData,
        damageDescriptions: damageDescriptionsData,
        ownershipTypes: ownershipTypesData,
        urbanConditions: urbanConditionsData,
        dominantLandUses: dominantLandUsesData,
        humanNeedsTypes: humanNeedsTypesData,
        neighborhoods: neighborhoodsData,
        humanitarianInterventionsTypes: humanitarianInterventionsTypesData,
      };
      const data = dataMap[tableName] || [];
      const tableBodyId = `${tableName}TableBody`;
      const tableBody = document.getElementById(tableBodyId);
      if (!tableBody) return;
      tableBody.innerHTML = "";
      data.forEach((item, index) => {
        let nameField = "";
        let nameArabicField = "";
        let codeField = "";
        let cityIdField = "";
        let distributionDateField = "";
        // Determine which fields to use
        if (item.statusName !== undefined) {
          nameField =
            currentLang === "ar" ? item.statusNameArabic : item.statusName;
        } else if (item.priorityName !== undefined) {
          nameField =
            currentLang === "ar"
              ? item.priorityNameArabic
              : item.priorityName;
        } else if (item.levelName !== undefined) {
          nameField =
            currentLang === "ar" ? item.levelNameArabic : item.levelName;
        } else if (item.typeName !== undefined) {
          nameField =
            currentLang === "ar" ? item.typeNameArabic : item.typeName;
        } else if (item.conditionName !== undefined) {
          nameField =
            currentLang === "ar"
              ? item.conditionNameArabic
              : item.conditionName;
        } else if (item.landUseName !== undefined) {
          nameField =
            currentLang === "ar" ? item.landUseNameArabic : item.landUseName;
        } else if (item.needType !== undefined) {
          nameField =
            currentLang === "ar" ? item.needTypeArabic : item.needType;
        } else if (item.name !== undefined) {
          nameField = currentLang === "ar" ? item.nameArabic : item.name;
          codeField = item.code || "";
          cityIdField = item.cityId || "";
        } else if (item.interveningParty !== undefined) {
          nameField = item.interveningParty;
          distributionDateField = item.distributionDate || "";
        } else if (item.descriptionType !== undefined) {
          nameField =
            currentLang === "ar"
              ? item.descriptionTypeArabic
              : item.descriptionType;
        }
        // Build row
        let row = `<tr><td>${index + 1}</td><td>${item.id}</td>`;
        if (tableName === "neighborhoods") {
          row += `<td>${nameField}</td><td>${currentLang === "ar" ? item.nameArabic : item.name
            }</td><td>${codeField}</td><td>${cityIdField}</td>`;
        } else if (tableName === "humanitarianInterventionsTypes") {
          row += `<td>${nameField}</td><td>${distributionDateField}</td>`;
        } else {
          row += `<td>${nameField}</td><td>${currentLang === "ar" ? nameField : nameField
            }</td>`;
        }
        row += `<td><div class="btn-group"><button class="btn btn-danger square-action-btn" onclick="deleteRow('${tableName}', ${index})" title="${currentLang === "ar" ? "حذف" : "Delete"
          }"><i class="fas fa-trash-alt"></i></button><button class="btn btn-edit square-action-btn" onclick="editRow('${tableName}', ${index})" title="${currentLang === "ar" ? "تعديل" : "Edit"
          }"><i class="fas fa-edit"></i></button></div></td></tr>`;
        tableBody.innerHTML += row;
      });
      updateTableHeadersAndDir(tableName);
    };

    // Patch switchLanguage to update all tables and modals
    const originalSwitchLanguage = switchLanguage;
    switchLanguage = function (lang) {
      originalSwitchLanguage(lang);
      Object.keys(tableHeadersTranslations).forEach((tableName) => {
        updateTableHeadersAndDir(tableName);
        displayData(tableName);
      });
      updateEditModalLang();
    };
  </script>
</body>

</html>